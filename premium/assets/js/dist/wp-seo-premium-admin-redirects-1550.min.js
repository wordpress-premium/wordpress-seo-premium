(window.yoastPremiumWebpackJsonp=window.yoastPremiumWebpackJsonp||[]).push([[3],{123:function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _functions = __webpack_require__(18);\n\nvar _redirectForm = __webpack_require__(124);\n\nvar _redirectForm2 = _interopRequireDefault(_redirectForm);\n\nvar _validateRedirect = __webpack_require__(125);\n\nvar _validateRedirect2 = _interopRequireDefault(_validateRedirect);\n\nvar _redirectQuickEdit = __webpack_require__(126);\n\nvar _redirectQuickEdit2 = _interopRequireDefault(_redirectQuickEdit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* jshint -W097 */\n/* jshint -W098 */\n/* jshint -W107 */\n/* global ajaxurl, wpseoPremiumStrings, _, wpseoUserLocale */\n\n(function ($) {\n\tvar TABLE_COLUMNS = {\n\t\tORIGIN: 1,\n\t\tTARGET: 2,\n\t\tTYPE: 0\n\t};\n\n\tvar KEYS = {\n\t\tENTER: 13\n\t};\n\n\t// Instantiates the quick edit form.\n\tvar redirectsQuickEdit = new _redirectQuickEdit2.default();\n\n\t// Extend the jQuery UI dialog widget for our needs.\n\t$.widget("ui.dialog", $.ui.dialog, {\n\t\t/**\n   * Extends the `_createOverlay` function.\n   *\n   * @returns {void}\n   *\n   * @private\n   */\n\t\t_createOverlay: function _createOverlay() {\n\t\t\tthis._super();\n\t\t\t// If the modal option is true, add a click event on the overlay.\n\t\t\tif (this.options.modal) {\n\t\t\t\tthis._on(this.overlay, {\n\t\t\t\t\t/**\n      * Handles the onclick event for the modal.\n      *\n      * @param {Event} event The event.\n      *\n      * @returns {void}\n      */\n\t\t\t\t\tclick: function click(event) {\n\t\t\t\t\t\tthis.close(event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n  * Extending the elements with a wpseo_redirects object\n  *\n  * @param {string} argType The redirect table.\n  *\n  * @returns {void}\n  */\n\t$.fn.wpseoRedirects = function (argType) {\n\t\tvar that = this;\n\t\tvar redirectFormat = argType.replace("table-", "");\n\n\t\tvar ignore = false;\n\t\tvar lastAction = void 0;\n\n\t\t// The element focus keyboard should be moved back to.\n\t\tvar returnFocusToEl = null;\n\n\t\t/**\n   * Resets the ignore and lastAction.\n   *\n   * @returns {void}\n   */\n\t\tvar resetIgnore = function resetIgnore() {\n\t\t\tignore = false;\n\t\t\tlastAction = null;\n\t\t};\n\n\t\t/**\n   * Creates a button.\n   *\n   * @param {Object}        buttonProps The button value.\n   * @param {function|null} onClick     The event to trigger on click.\n   *\n   * @returns {Object} The button object.\n   */\n\t\tvar createButton = function createButton(buttonProps) {\n\t\t\tvar onClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\t\tvar buttonValue = buttonProps.buttonValue,\n\t\t\t    _buttonProps$classNam = buttonProps.className,\n\t\t\t    className = _buttonProps$classNam === undefined ? "button" : _buttonProps$classNam;\n\n\n\t\t\treturn {\n\t\t\t\ttext: buttonValue,\n\t\t\t\t"class": className,\n\n\t\t\t\t/**\n     * Event to trigger onclick.\n     *\n     * @returns {void}\n     */\n\t\t\t\tclick: function click() {\n\t\t\t\t\tif (onClick !== null) {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery(this).dialog("close");\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tthis.getButtons = function (dialogType) {\n\t\t\tif (dialogType === "default") {\n\t\t\t\treturn [createButton({\n\t\t\t\t\tbuttonValue: wpseoPremiumStrings.button_ok\n\t\t\t\t})];\n\t\t\t}\n\n\t\t\treturn [createButton({\n\t\t\t\tbuttonValue: wpseoPremiumStrings.button_cancel\n\t\t\t}, function () {\n\t\t\t\tresetIgnore();\n\t\t\t}), createButton({\n\t\t\t\tbuttonValue: wpseoPremiumStrings.button_save_anyway,\n\t\t\t\tclassName: "button-primary"\n\t\t\t}, function () {\n\t\t\t\tignore = true;\n\n\t\t\t\t// The value of last action will be the button pressed to save the redirect.\n\t\t\t\tlastAction();\n\n\t\t\t\tresetIgnore();\n\t\t\t})];\n\t\t};\n\n\t\t/**\n   * Returns a mapped object with the row column elements\n   *\n   * @param {Object} row The row object.\n   * @returns {{origin: *, target: *, type: *}} The values of the fields in the row.\n   */\n\t\tthis.rowCells = function (row) {\n\t\t\tvar rowValues = row.find(".val");\n\n\t\t\treturn {\n\t\t\t\torigin: rowValues.eq(TABLE_COLUMNS.ORIGIN),\n\t\t\t\ttarget: rowValues.eq(TABLE_COLUMNS.TARGET),\n\t\t\t\ttype: rowValues.eq(TABLE_COLUMNS.TYPE)\n\t\t\t};\n\t\t};\n\n\t\t/**\n   * Showing a dialog on the screen\n   *\n   * @param {string} title      Dialog title.\n   * @param {string} text       The text for the dialog.\n   * @param {string} dialogType The dialog type.\n   *\n   * @returns {void}\n   */\n\t\tthis.dialog = function (title, text, dialogType) {\n\t\t\tif (typeof dialogType === "undefined" || dialogType === "error") {\n\t\t\t\tdialogType = "default";\n\t\t\t}\n\n\t\t\tvar buttons = this.getButtons(dialogType);\n\n\t\t\t$("#YoastRedirectDialogText").html(text);\n\t\t\t$("#YoastRedirectDialog").dialog({\n\t\t\t\ttitle: title,\n\t\t\t\twidth: 500,\n\t\t\t\tdraggable: false,\n\t\t\t\tresizable: false,\n\t\t\t\tposition: {\n\t\t\t\t\tat: "center center",\n\t\t\t\t\tmy: "center center",\n\t\t\t\t\tof: window\n\t\t\t\t},\n\t\t\t\tbuttons: buttons,\n\t\t\t\tmodal: true,\n\t\t\t\t/**\n     * Focuses the return focus element if set.\n     *\n     * @returns {void}\n     */\n\t\t\t\tclose: function close() {\n\t\t\t\t\tif (returnFocusToEl) {\n\t\t\t\t\t\treturnFocusToEl.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t/**\n   * Handle the response\n   *\n   * @param {object} successMessage The message that will be displayed on success.\n   *\n   * @returns {void}\n   */\n\t\tthis.openDialog = function (successMessage) {\n\t\t\tthis.dialog(successMessage.title, successMessage.message);\n\t\t};\n\n\t\t/**\n   * Sending post request.\n   *\n   * @param {object}   data       The data to post.\n   * @param {function} oncomplete Callback when request has been successful.\n   *\n   * @returns {void}\n   */\n\t\tthis.post = function (data, oncomplete) {\n\t\t\t$.post(ajaxurl, data, oncomplete, "json");\n\t\t};\n\n\t\t/**\n   * Creating an edit row for editing a redirect.\n   *\n   * @param {object} row The row to edit.\n   *\n   * @returns {void}\n   */\n\t\tthis.editRow = function (row) {\n\t\t\t// Just show a dialog when there is already a quick edit form opened.\n\t\t\tif ($("#the-list").find("#inline-edit").length > 0) {\n\t\t\t\t/* eslint-disable camelcase */\n\t\t\t\tthis.dialog(wpseoPremiumStrings.edit_redirect, wpseoPremiumStrings.editing_redirect);\n\t\t\t\t/* eslint-enable camelcase */\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Running the setup and show the quick edit form.\n\t\t\tredirectsQuickEdit.setup(row, this.rowCells(row));\n\t\t\tredirectsQuickEdit.show();\n\n\t\t\tnew _redirectForm2.default(redirectsQuickEdit.quickEditRow).getTypeField().trigger("change");\n\t\t};\n\n\t\t/**\n   * Create a table row element with the new added redirect data\n   *\n   * @param {string} oldUrl       The old url.\n   * @param {string} newUrl       The new url.\n   * @param {string} redirectType The type of the redirect (regex or plain).\n   * @param {Object} redirectInfo  Object with details about the redirect.\n   * @returns {void|*|jQuery} The generated row.\n   */\n\t\tthis.createRedirectRow = function (oldUrl, newUrl, redirectType, redirectInfo) {\n\t\t\tvar targetClasses = ["val"];\n\n\t\t\tif (!redirectInfo.isTargetRelative || "" === newUrl || "/" === newUrl) {\n\t\t\t\ttargetClasses.push("remove-slashes");\n\t\t\t}\n\n\t\t\tif (redirectInfo.hasTrailingSlash) {\n\t\t\t\ttargetClasses.push("has-trailing-slash");\n\t\t\t}\n\n\t\t\treturn $("<tr>").append($("<th>").addClass("check-column").attr("scope", "row").append($("<input>").attr("name", "wpseo_redirects_bulk_delete[]").attr("type", "checkbox").val(_.escape(oldUrl)))).append($("<td>").addClass("type column-type has-row-actions column-primary").append($("<div>").addClass("val type").html(_.escape(redirectType))).append($("<div>").addClass("row-actions").append($("<span>").addClass("edit").append($("<a>").attr({ href: "#", role: "button", "class": "redirect-edit" }).html(wpseoPremiumStrings.editAction)).append(" | ")).append($("<span>").addClass("trash").append($("<a>").attr({ href: "#", role: "button", "class": "redirect-delete" }).html(wpseoPremiumStrings.deleteAction))))).append($("<td>").addClass("column-old").append($("<div>").addClass("val").html(_.escape(oldUrl)))).append($("<td>").addClass("column-new").append($("<div>").addClass(targetClasses.join(" ")).html(_.escape(newUrl))));\n\t\t};\n\n\t\t/**\n   * Handles the error.\n   *\n   * @param {ValidateRedirect} validateRedirect The validation object.\n   * @param {Object}           error            The error object.\n   *\n   * @returns {void}\n   */\n\t\tthis.handleError = function (validateRedirect, error) {\n\t\t\tvalidateRedirect.addValidationError(error.message, error.fields);\n\n\t\t\tif (error.type === "warning") {\n\t\t\t\tthat.dialog(wpseoPremiumStrings.error_saving_redirect, error.message, error.type);\n\t\t\t}\n\t\t};\n\n\t\t/**\n   * Adding the redirect\n   *\n   * @returns {boolean} True when redirect has been added successfully.\n   */\n\t\tthis.addRedirect = function () {\n\t\t\t// Do the validation.\n\t\t\tvar redirectForm = new _redirectForm2.default($(".wpseo-new-redirect-form"));\n\t\t\tvar validateRedirect = new _validateRedirect2.default(redirectForm, redirectFormat);\n\t\t\tif (validateRedirect.validate() === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar redirectValues = validateRedirect.getFormValues();\n\n\t\t\t// Do post.\n\t\t\tthat.post({\n\t\t\t\taction: "wpseo_add_redirect_" + redirectFormat,\n\t\t\t\t/* eslint-disable-next-line camelcase */\n\t\t\t\tajax_nonce: $(".wpseo_redirects_ajax_nonce").val(),\n\t\t\t\tredirect: {\n\t\t\t\t\torigin: encodeURIComponent(redirectValues.origin),\n\t\t\t\t\ttarget: encodeURIComponent(redirectValues.target),\n\t\t\t\t\ttype: redirectValues.type\n\t\t\t\t},\n\t\t\t\t/* eslint-disable-next-line camelcase */\n\t\t\t\tignore_warning: ignore\n\t\t\t}, function (response) {\n\t\t\t\tif (response.error) {\n\t\t\t\t\tthat.handleError(validateRedirect, response.error);\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Empty the form fields.\n\t\t\t\tredirectForm.getOriginField().val("");\n\t\t\t\tredirectForm.getTargetField().val("");\n\n\t\t\t\t// Remove the no items row.\n\t\t\t\tthat.find(".no-items").remove();\n\n\t\t\t\t// Creating tr.\n\t\t\t\tvar tr = that.createRedirectRow(response.origin, response.target, response.type, response.info);\n\n\t\t\t\t// Add the new row.\n\t\t\t\t$("form#" + redirectFormat).find("#the-list").prepend(tr);\n\n\t\t\t\tthat.openDialog(wpseoPremiumStrings.redirect_added);\n\t\t\t});\n\n\t\t\treturn true;\n\t\t};\n\n\t\t/**\n   * Updating the redirect\n   *\n   * @returns {boolean} True when updates is successful.\n   */\n\t\tthis.updateRedirect = function () {\n\t\t\t// Do the validation.\n\t\t\tvar redirectForm = new _redirectForm2.default(redirectsQuickEdit.getForm());\n\t\t\tvar validateRedirect = new _validateRedirect2.default(redirectForm, redirectFormat);\n\t\t\tif (validateRedirect.validate() === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar redirectValues = validateRedirect.getFormValues();\n\n\t\t\t// Setting the vars for the row and its values.\n\t\t\tvar row = redirectsQuickEdit.getRow();\n\t\t\tvar rowCells = this.rowCells(row);\n\n\t\t\t// Post the request.\n\t\t\tthat.post({\n\t\t\t\t/* eslint-disable camelcase */\n\t\t\t\taction: "wpseo_update_redirect_" + redirectFormat,\n\t\t\t\tajax_nonce: $(".wpseo_redirects_ajax_nonce").val(),\n\t\t\t\told_redirect: {\n\t\t\t\t\torigin: encodeURIComponent(rowCells.origin.html()),\n\t\t\t\t\ttarget: encodeURIComponent(rowCells.target.html()),\n\t\t\t\t\ttype: encodeURIComponent(rowCells.type.html())\n\t\t\t\t},\n\t\t\t\tnew_redirect: {\n\t\t\t\t\torigin: encodeURIComponent(redirectValues.origin),\n\t\t\t\t\ttarget: encodeURIComponent(redirectValues.target),\n\t\t\t\t\ttype: encodeURIComponent(redirectValues.type)\n\t\t\t\t},\n\t\t\t\tignore_warning: ignore\n\t\t\t}, function (response) {\n\t\t\t\tif (response.error) {\n\t\t\t\t\tthat.handleError(validateRedirect, response.error);\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Updates the table cells.\n\t\t\t\trowCells.origin.html(_.escape(response.origin));\n\t\t\t\trowCells.target.html(_.escape(response.target));\n\t\t\t\trowCells.type.html(_.escape(response.type));\n\n\t\t\t\tredirectsQuickEdit.remove();\n\n\t\t\t\tthat.openDialog(wpseoPremiumStrings.redirect_updated);\n\t\t\t}\n\t\t\t/* eslint-enable camelcase */\n\t\t\t);\n\n\t\t\treturn true;\n\t\t};\n\n\t\t/**\n   * Removes the redirect\n   *\n   * @param {Object} row The row object.\n   *\n   * @returns {void}\n   */\n\t\tthis.deleteRedirect = function (row) {\n\t\t\tvar _this = this;\n\n\t\t\tvar rowCells = this.rowCells(row);\n\n\t\t\tvar origin = rowCells.origin.html();\n\t\t\tvar target = rowCells.target.html();\n\t\t\tvar redirectType = rowCells.type.html();\n\n\t\t\t(0, _functions.wpseoDeleteRedirect)(origin, target, redirectType, redirectFormat).then(function (response) {\n\t\t\t\t// When the redirect is removed, just fade out the row and remove it after its faded.\n\t\t\t\trow.fadeTo("fast", 0).slideUp(function () {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\n\t\t\t\tthat.openDialog(response);\n\t\t\t}).catch(function (error) {\n\t\t\t\t_this.dialog(error.title, error.message, "error");\n\t\t\t});\n\t\t};\n\n\t\t/**\n   * Running the setup of this element.\n   *\n   * @returns {void}\n   */\n\t\tthis.setup = function () {\n\t\t\tvar $row = void 0;\n\t\t\t// Adding dialog.\n\t\t\t$("body").append("<div id=\\"YoastRedirectDialog\\"><div id=\\"YoastRedirectDialogText\\"></div></div>");\n\n\t\t\t// When the window will be closed/reloaded and there is a inline edit opened show a message.\n\t\t\t$(window).on("beforeunload", function () {\n\t\t\t\tif ($("#the-list").find("#inline-edit").length > 0) {\n\t\t\t\t\treturn wpseoPremiumStrings.unsaved_redirects;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Adding the onchange event.\n\t\t\t$(".redirect-table-tab").on("change", "select[name=wpseo_redirects_type]", function (evt) {\n\t\t\t\tvar redirectType = parseInt($(evt.target).val(), 10);\n\t\t\t\tvar fieldToToggle = $(evt.target).closest(".wpseo_redirect_form").find(".wpseo_redirect_target_holder");\n\n\t\t\t\t// Hide the target field in case of a 410 redirect.\n\t\t\t\tif (jQuery.inArray(redirectType, _functions.ALLOW_EMPTY_TARGET) > -1) {\n\t\t\t\t\t$(fieldToToggle).hide();\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$(fieldToToggle).show();\n\t\t\t});\n\n\t\t\t// Adding events for the add form.\n\t\t\t$(".wpseo-new-redirect-form").on("click", ".button-primary", function () {\n\t\t\t\tlastAction = function lastAction() {\n\t\t\t\t\tthat.addRedirect();\n\t\t\t\t};\n\n\t\t\t\tthat.addRedirect();\n\t\t\t\treturnFocusToEl = $(this);\n\t\t\t\treturn false;\n\t\t\t}).on("keypress", "input", function (evt) {\n\t\t\t\tif (evt.which === KEYS.ENTER) {\n\t\t\t\t\tlastAction = function lastAction() {\n\t\t\t\t\t\tthat.addRedirect();\n\t\t\t\t\t};\n\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tthat.addRedirect();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$(".wp-list-table").on("click", ".redirect-edit", function (evt) {\n\t\t\t\t$row = $(evt.target).closest("tr");\n\n\t\t\t\tevt.preventDefault();\n\t\t\t\tthat.editRow($row);\n\t\t\t\treturnFocusToEl = $(this);\n\t\t\t}).on("click", ".redirect-delete", function (evt) {\n\t\t\t\t$row = $(evt.target).closest("tr");\n\n\t\t\t\tevt.preventDefault();\n\t\t\t\tthat.deleteRedirect($row);\n\t\t\t\t// When a row gets deleted, where focus should land?\n\t\t\t\treturnFocusToEl = $("#cb-select-all-1");\n\t\t\t}).on("keypress", "input", function (evt) {\n\t\t\t\tif (evt.which === KEYS.ENTER) {\n\t\t\t\t\tlastAction = function lastAction() {\n\t\t\t\t\t\tthat.updateRedirect();\n\t\t\t\t\t};\n\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tthat.updateRedirect();\n\t\t\t\t}\n\t\t\t}).on("click", ".save", function () {\n\t\t\t\tlastAction = function lastAction() {\n\t\t\t\t\tthat.updateRedirect();\n\t\t\t\t};\n\n\t\t\t\tlastAction();\n\t\t\t}).on("click", ".cancel", function () {\n\t\t\t\tlastAction = null;\n\t\t\t\tredirectsQuickEdit.remove();\n\t\t\t\t// Move focus back to the Edit link.\n\t\t\t\t$row.find(".redirect-edit").focus();\n\t\t\t});\n\t\t};\n\n\t\tthat.setup();\n\t};\n\n\t/**\n  * Adds select2 for selected fields.\n  *\n  * @returns {void}\n  */\n\tfunction initSelect2() {\n\t\t$("#wpseo_redirects_type").select2({\n\t\t\twidth: "400px",\n\t\t\tlanguage: wpseoUserLocale,\n\t\t\tdropdownCssClass: "yoast-select__dropdown"\n\t\t});\n\t}\n\n\t/**\n  * Initializes the redirect page.\n  *\n  * @returns {void}\n  */\n\tfunction init() {\n\t\t$.each($(".redirect-table-tab"), function (key, element) {\n\t\t\t$(element).wpseoRedirects($(element).attr("id"));\n\t\t});\n\n\t\tinitSelect2();\n\t}\n\n\t$(init);\n})(jQuery);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2Fzc2V0cy9qcy9zcmMvYWRtaW4tcmVkaXJlY3RzLmpzPzRiZTYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IC1XMDk3ICovXG4vKiBqc2hpbnQgLVcwOTggKi9cbi8qIGpzaGludCAtVzEwNyAqL1xuLyogZ2xvYmFsIGFqYXh1cmwsIHdwc2VvUHJlbWl1bVN0cmluZ3MsIF8sIHdwc2VvVXNlckxvY2FsZSAqL1xuXG5pbXBvcnQgeyB3cHNlb0RlbGV0ZVJlZGlyZWN0LCBBTExPV19FTVBUWV9UQVJHRVQgfSBmcm9tIFwiLi9yZWRpcmVjdHMvZnVuY3Rpb25zXCI7XG5pbXBvcnQgUmVkaXJlY3RGb3JtIGZyb20gXCIuL3JlZGlyZWN0cy9yZWRpcmVjdC1mb3JtXCI7XG5pbXBvcnQgVmFsaWRhdGVSZWRpcmVjdCBmcm9tIFwiLi9yZWRpcmVjdHMvdmFsaWRhdGUtcmVkaXJlY3RcIjtcbmltcG9ydCBSZWRpcmVjdFF1aWNrRWRpdCBmcm9tIFwiLi9yZWRpcmVjdHMvcmVkaXJlY3QtcXVpY2stZWRpdFwiO1xuXG4oIGZ1bmN0aW9uKCAkICkge1xuXHRjb25zdCBUQUJMRV9DT0xVTU5TID0ge1xuXHRcdE9SSUdJTjogMSxcblx0XHRUQVJHRVQ6IDIsXG5cdFx0VFlQRTogMCxcblx0fTtcblxuXHRjb25zdCBLRVlTID0ge1xuXHRcdEVOVEVSOiAxMyxcblx0fTtcblxuXHQvLyBJbnN0YW50aWF0ZXMgdGhlIHF1aWNrIGVkaXQgZm9ybS5cblx0Y29uc3QgcmVkaXJlY3RzUXVpY2tFZGl0ID0gbmV3IFJlZGlyZWN0UXVpY2tFZGl0KCk7XG5cblx0Ly8gRXh0ZW5kIHRoZSBqUXVlcnkgVUkgZGlhbG9nIHdpZGdldCBmb3Igb3VyIG5lZWRzLlxuXHQkLndpZGdldCggXCJ1aS5kaWFsb2dcIiwgJC51aS5kaWFsb2csIHtcblx0XHQvKipcblx0XHQgKiBFeHRlbmRzIHRoZSBgX2NyZWF0ZU92ZXJsYXlgIGZ1bmN0aW9uLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge3ZvaWR9XG5cdFx0ICpcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdF9jcmVhdGVPdmVybGF5OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3N1cGVyKCk7XG5cdFx0XHQvLyBJZiB0aGUgbW9kYWwgb3B0aW9uIGlzIHRydWUsIGFkZCBhIGNsaWNrIGV2ZW50IG9uIHRoZSBvdmVybGF5LlxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMubW9kYWwgKSB7XG5cdFx0XHRcdHRoaXMuX29uKCB0aGlzLm92ZXJsYXksIHtcblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBIYW5kbGVzIHRoZSBvbmNsaWNrIGV2ZW50IGZvciB0aGUgbW9kYWwuXG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQuXG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0fSApO1xuXG5cdC8qKlxuXHQgKiBFeHRlbmRpbmcgdGhlIGVsZW1lbnRzIHdpdGggYSB3cHNlb19yZWRpcmVjdHMgb2JqZWN0XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBhcmdUeXBlIFRoZSByZWRpcmVjdCB0YWJsZS5cblx0ICpcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHQkLmZuLndwc2VvUmVkaXJlY3RzID0gZnVuY3Rpb24oIGFyZ1R5cGUgKSB7XG5cdFx0Y29uc3QgdGhhdCAgICAgICAgICAgPSB0aGlzO1xuXHRcdGNvbnN0IHJlZGlyZWN0Rm9ybWF0ID0gYXJnVHlwZS5yZXBsYWNlKCBcInRhYmxlLVwiLCBcIlwiICk7XG5cblx0XHRsZXQgaWdub3JlID0gZmFsc2U7XG5cdFx0bGV0IGxhc3RBY3Rpb247XG5cblx0XHQvLyBUaGUgZWxlbWVudCBmb2N1cyBrZXlib2FyZCBzaG91bGQgYmUgbW92ZWQgYmFjayB0by5cblx0XHRsZXQgcmV0dXJuRm9jdXNUb0VsID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFJlc2V0cyB0aGUgaWdub3JlIGFuZCBsYXN0QWN0aW9uLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge3ZvaWR9XG5cdFx0ICovXG5cdFx0Y29uc3QgcmVzZXRJZ25vcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlnbm9yZSAgICAgPSBmYWxzZTtcblx0XHRcdGxhc3RBY3Rpb24gPSBudWxsO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIGEgYnV0dG9uLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBidXR0b25Qcm9wcyBUaGUgYnV0dG9uIHZhbHVlLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb258bnVsbH0gb25DbGljayAgICAgVGhlIGV2ZW50IHRvIHRyaWdnZXIgb24gY2xpY2suXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgYnV0dG9uIG9iamVjdC5cblx0XHQgKi9cblx0XHRjb25zdCBjcmVhdGVCdXR0b24gPSAoIGJ1dHRvblByb3BzLCBvbkNsaWNrID0gbnVsbCApID0+IHtcblx0XHRcdGNvbnN0IHsgYnV0dG9uVmFsdWUsIGNsYXNzTmFtZSA9IFwiYnV0dG9uXCIgfSA9IGJ1dHRvblByb3BzO1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0ZXh0OiBidXR0b25WYWx1ZSxcblx0XHRcdFx0XCJjbGFzc1wiOiBjbGFzc05hbWUsXG5cblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIEV2ZW50IHRvIHRyaWdnZXIgb25jbGljay5cblx0XHRcdFx0ICpcblx0XHRcdFx0ICogQHJldHVybnMge3ZvaWR9XG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRjbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBvbkNsaWNrICE9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0b25DbGljaygpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGpRdWVyeSggdGhpcyApLmRpYWxvZyggXCJjbG9zZVwiICk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHR0aGlzLmdldEJ1dHRvbnMgPSBmdW5jdGlvbiggZGlhbG9nVHlwZSApIHtcblx0XHRcdGlmICggZGlhbG9nVHlwZSA9PT0gXCJkZWZhdWx0XCIgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0Y3JlYXRlQnV0dG9uKFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRidXR0b25WYWx1ZTogd3BzZW9QcmVtaXVtU3RyaW5ncy5idXR0b25fb2ssXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0XTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0Y3JlYXRlQnV0dG9uKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGJ1dHRvblZhbHVlOiB3cHNlb1ByZW1pdW1TdHJpbmdzLmJ1dHRvbl9jYW5jZWwsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQoKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXNldElnbm9yZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KSxcblx0XHRcdFx0Y3JlYXRlQnV0dG9uKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGJ1dHRvblZhbHVlOiB3cHNlb1ByZW1pdW1TdHJpbmdzLmJ1dHRvbl9zYXZlX2FueXdheSxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZTogXCJidXR0b24tcHJpbWFyeVwiLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdFx0aWdub3JlID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0Ly8gVGhlIHZhbHVlIG9mIGxhc3QgYWN0aW9uIHdpbGwgYmUgdGhlIGJ1dHRvbiBwcmVzc2VkIHRvIHNhdmUgdGhlIHJlZGlyZWN0LlxuXHRcdFx0XHRcdFx0bGFzdEFjdGlvbigpO1xuXG5cdFx0XHRcdFx0XHRyZXNldElnbm9yZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KSxcblx0XHRcdF07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgYSBtYXBwZWQgb2JqZWN0IHdpdGggdGhlIHJvdyBjb2x1bW4gZWxlbWVudHNcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSByb3cgVGhlIHJvdyBvYmplY3QuXG5cdFx0ICogQHJldHVybnMge3tvcmlnaW46ICosIHRhcmdldDogKiwgdHlwZTogKn19IFRoZSB2YWx1ZXMgb2YgdGhlIGZpZWxkcyBpbiB0aGUgcm93LlxuXHRcdCAqL1xuXHRcdHRoaXMucm93Q2VsbHMgPSBmdW5jdGlvbiggcm93ICkge1xuXHRcdFx0Y29uc3Qgcm93VmFsdWVzID0gcm93LmZpbmQoIFwiLnZhbFwiICk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG9yaWdpbjogcm93VmFsdWVzLmVxKCBUQUJMRV9DT0xVTU5TLk9SSUdJTiApLFxuXHRcdFx0XHR0YXJnZXQ6IHJvd1ZhbHVlcy5lcSggVEFCTEVfQ09MVU1OUy5UQVJHRVQgKSxcblx0XHRcdFx0dHlwZTogcm93VmFsdWVzLmVxKCBUQUJMRV9DT0xVTU5TLlRZUEUgKSxcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFNob3dpbmcgYSBkaWFsb2cgb24gdGhlIHNjcmVlblxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHRpdGxlICAgICAgRGlhbG9nIHRpdGxlLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0ICAgICAgIFRoZSB0ZXh0IGZvciB0aGUgZGlhbG9nLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBkaWFsb2dUeXBlIFRoZSBkaWFsb2cgdHlwZS5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHRoaXMuZGlhbG9nID0gZnVuY3Rpb24oIHRpdGxlLCB0ZXh0LCBkaWFsb2dUeXBlICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgZGlhbG9nVHlwZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBkaWFsb2dUeXBlID09PSBcImVycm9yXCIgKSB7XG5cdFx0XHRcdGRpYWxvZ1R5cGUgPSBcImRlZmF1bHRcIjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgYnV0dG9ucyA9IHRoaXMuZ2V0QnV0dG9ucyggZGlhbG9nVHlwZSApO1xuXG5cdFx0XHQkKCBcIiNZb2FzdFJlZGlyZWN0RGlhbG9nVGV4dFwiICkuaHRtbCggdGV4dCApO1xuXHRcdFx0JCggXCIjWW9hc3RSZWRpcmVjdERpYWxvZ1wiICkuZGlhbG9nKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dGl0bGU6IHRpdGxlLFxuXHRcdFx0XHRcdHdpZHRoOiA1MDAsXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRyZXNpemFibGU6IGZhbHNlLFxuXHRcdFx0XHRcdHBvc2l0aW9uOiB7XG5cdFx0XHRcdFx0XHRhdDogXCJjZW50ZXIgY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRteTogXCJjZW50ZXIgY2VudGVyXCIsXG5cdFx0XHRcdFx0XHRvZjogd2luZG93LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YnV0dG9uczogYnV0dG9ucyxcblx0XHRcdFx0XHRtb2RhbDogdHJ1ZSxcblx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHQgKiBGb2N1c2VzIHRoZSByZXR1cm4gZm9jdXMgZWxlbWVudCBpZiBzZXQuXG5cdFx0XHRcdFx0ICpcblx0XHRcdFx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHRjbG9zZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIHJldHVybkZvY3VzVG9FbCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuRm9jdXNUb0VsLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlIHRoZSByZXNwb25zZVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtvYmplY3R9IHN1Y2Nlc3NNZXNzYWdlIFRoZSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBkaXNwbGF5ZWQgb24gc3VjY2Vzcy5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHRoaXMub3BlbkRpYWxvZyA9IGZ1bmN0aW9uKCBzdWNjZXNzTWVzc2FnZSApIHtcblx0XHRcdHRoaXMuZGlhbG9nKCBzdWNjZXNzTWVzc2FnZS50aXRsZSwgc3VjY2Vzc01lc3NhZ2UubWVzc2FnZSApO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBTZW5kaW5nIHBvc3QgcmVxdWVzdC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7b2JqZWN0fSAgIGRhdGEgICAgICAgVGhlIGRhdGEgdG8gcG9zdC5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmNvbXBsZXRlIENhbGxiYWNrIHdoZW4gcmVxdWVzdCBoYXMgYmVlbiBzdWNjZXNzZnVsLlxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge3ZvaWR9XG5cdFx0ICovXG5cdFx0dGhpcy5wb3N0ID0gZnVuY3Rpb24oIGRhdGEsIG9uY29tcGxldGUgKSB7XG5cdFx0XHQkLnBvc3QoIGFqYXh1cmwsIGRhdGEsIG9uY29tcGxldGUsIFwianNvblwiICk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0aW5nIGFuIGVkaXQgcm93IGZvciBlZGl0aW5nIGEgcmVkaXJlY3QuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge29iamVjdH0gcm93IFRoZSByb3cgdG8gZWRpdC5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHRoaXMuZWRpdFJvdyA9IGZ1bmN0aW9uKCByb3cgKSB7XG5cdFx0XHQvLyBKdXN0IHNob3cgYSBkaWFsb2cgd2hlbiB0aGVyZSBpcyBhbHJlYWR5IGEgcXVpY2sgZWRpdCBmb3JtIG9wZW5lZC5cblx0XHRcdGlmICggJCggXCIjdGhlLWxpc3RcIiApLmZpbmQoIFwiI2lubGluZS1lZGl0XCIgKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cblx0XHRcdFx0dGhpcy5kaWFsb2coXG5cdFx0XHRcdFx0d3BzZW9QcmVtaXVtU3RyaW5ncy5lZGl0X3JlZGlyZWN0LFxuXHRcdFx0XHRcdHdwc2VvUHJlbWl1bVN0cmluZ3MuZWRpdGluZ19yZWRpcmVjdFxuXHRcdFx0XHQpO1xuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIGNhbWVsY2FzZSAqL1xuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUnVubmluZyB0aGUgc2V0dXAgYW5kIHNob3cgdGhlIHF1aWNrIGVkaXQgZm9ybS5cblx0XHRcdHJlZGlyZWN0c1F1aWNrRWRpdC5zZXR1cCggcm93LCB0aGlzLnJvd0NlbGxzKCByb3cgKSApO1xuXHRcdFx0cmVkaXJlY3RzUXVpY2tFZGl0LnNob3coKTtcblxuXHRcdFx0bmV3IFJlZGlyZWN0Rm9ybSggcmVkaXJlY3RzUXVpY2tFZGl0LnF1aWNrRWRpdFJvdyApLmdldFR5cGVGaWVsZCgpLnRyaWdnZXIoIFwiY2hhbmdlXCIgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlIGEgdGFibGUgcm93IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGFkZGVkIHJlZGlyZWN0IGRhdGFcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBvbGRVcmwgICAgICAgVGhlIG9sZCB1cmwuXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCAgICAgICBUaGUgbmV3IHVybC5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcmVkaXJlY3RUeXBlIFRoZSB0eXBlIG9mIHRoZSByZWRpcmVjdCAocmVnZXggb3IgcGxhaW4pLlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSByZWRpcmVjdEluZm8gIE9iamVjdCB3aXRoIGRldGFpbHMgYWJvdXQgdGhlIHJlZGlyZWN0LlxuXHRcdCAqIEByZXR1cm5zIHt2b2lkfCp8alF1ZXJ5fSBUaGUgZ2VuZXJhdGVkIHJvdy5cblx0XHQgKi9cblx0XHR0aGlzLmNyZWF0ZVJlZGlyZWN0Um93ID0gZnVuY3Rpb24oIG9sZFVybCwgbmV3VXJsLCByZWRpcmVjdFR5cGUsIHJlZGlyZWN0SW5mbyApIHtcblx0XHRcdGNvbnN0IHRhcmdldENsYXNzZXMgPSBbIFwidmFsXCIgXTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhIHJlZGlyZWN0SW5mby5pc1RhcmdldFJlbGF0aXZlIHx8XG5cdFx0XHRcdFwiXCIgPT09IG5ld1VybCB8fFxuXHRcdFx0XHRcIi9cIiA9PT0gbmV3VXJsXG5cdFx0XHQpIHtcblx0XHRcdFx0dGFyZ2V0Q2xhc3Nlcy5wdXNoKCBcInJlbW92ZS1zbGFzaGVzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCByZWRpcmVjdEluZm8uaGFzVHJhaWxpbmdTbGFzaCApIHtcblx0XHRcdFx0dGFyZ2V0Q2xhc3Nlcy5wdXNoKCBcImhhcy10cmFpbGluZy1zbGFzaFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAkKCBcIjx0cj5cIiApLmFwcGVuZChcblx0XHRcdFx0JCggXCI8dGg+XCIgKS5hZGRDbGFzcyggXCJjaGVjay1jb2x1bW5cIiApLmF0dHIoIFwic2NvcGVcIiwgXCJyb3dcIiApLmFwcGVuZChcblx0XHRcdFx0XHQkKCBcIjxpbnB1dD5cIiApXG5cdFx0XHRcdFx0XHQuYXR0ciggXCJuYW1lXCIsIFwid3BzZW9fcmVkaXJlY3RzX2J1bGtfZGVsZXRlW11cIiApXG5cdFx0XHRcdFx0XHQuYXR0ciggXCJ0eXBlXCIsIFwiY2hlY2tib3hcIiApXG5cdFx0XHRcdFx0XHQudmFsKCBfLmVzY2FwZSggb2xkVXJsICkgKVxuXHRcdFx0XHQpXG5cdFx0XHQpLmFwcGVuZChcblx0XHRcdFx0JCggXCI8dGQ+XCIgKS5hZGRDbGFzcyggXCJ0eXBlIGNvbHVtbi10eXBlIGhhcy1yb3ctYWN0aW9ucyBjb2x1bW4tcHJpbWFyeVwiICkuYXBwZW5kKFxuXHRcdFx0XHRcdCQoIFwiPGRpdj5cIiApLmFkZENsYXNzKCBcInZhbCB0eXBlXCIgKS5odG1sKCBfLmVzY2FwZSggcmVkaXJlY3RUeXBlICkgKVxuXHRcdFx0XHQpLmFwcGVuZChcblx0XHRcdFx0XHQkKCBcIjxkaXY+XCIgKS5hZGRDbGFzcyggXCJyb3ctYWN0aW9uc1wiICkuYXBwZW5kKFxuXHRcdFx0XHRcdFx0JCggXCI8c3Bhbj5cIiApLmFkZENsYXNzKCBcImVkaXRcIiApLmFwcGVuZChcblx0XHRcdFx0XHRcdFx0JCggXCI8YT5cIiApLmF0dHIoIHsgaHJlZjogXCIjXCIsIHJvbGU6IFwiYnV0dG9uXCIsIFwiY2xhc3NcIjogXCJyZWRpcmVjdC1lZGl0XCIgfSApLmh0bWwoIHdwc2VvUHJlbWl1bVN0cmluZ3MuZWRpdEFjdGlvbiApXG5cdFx0XHRcdFx0XHQpLmFwcGVuZCggXCIgfCBcIiApXG5cdFx0XHRcdFx0KS5hcHBlbmQoXG5cdFx0XHRcdFx0XHQkKCBcIjxzcGFuPlwiICkuYWRkQ2xhc3MoIFwidHJhc2hcIiApLmFwcGVuZChcblx0XHRcdFx0XHRcdFx0JCggXCI8YT5cIiApLmF0dHIoIHsgaHJlZjogXCIjXCIsIHJvbGU6IFwiYnV0dG9uXCIsIFwiY2xhc3NcIjogXCJyZWRpcmVjdC1kZWxldGVcIiB9ICkuaHRtbCggd3BzZW9QcmVtaXVtU3RyaW5ncy5kZWxldGVBY3Rpb24gKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KVxuXHRcdFx0KS5hcHBlbmQoXG5cdFx0XHRcdCQoIFwiPHRkPlwiICkuYWRkQ2xhc3MoIFwiY29sdW1uLW9sZFwiICkuYXBwZW5kKFxuXHRcdFx0XHRcdCQoIFwiPGRpdj5cIiApLmFkZENsYXNzKCBcInZhbFwiICkuaHRtbCggXy5lc2NhcGUoIG9sZFVybCApIClcblx0XHRcdFx0KVxuXHRcdFx0KS5hcHBlbmQoXG5cdFx0XHRcdCQoIFwiPHRkPlwiICkuYWRkQ2xhc3MoIFwiY29sdW1uLW5ld1wiICkuYXBwZW5kKFxuXHRcdFx0XHRcdCQoIFwiPGRpdj5cIiApLmFkZENsYXNzKCB0YXJnZXRDbGFzc2VzLmpvaW4oIFwiIFwiICkgKS5odG1sKCBfLmVzY2FwZSggbmV3VXJsICkgKVxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBIYW5kbGVzIHRoZSBlcnJvci5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7VmFsaWRhdGVSZWRpcmVjdH0gdmFsaWRhdGVSZWRpcmVjdCBUaGUgdmFsaWRhdGlvbiBvYmplY3QuXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICBlcnJvciAgICAgICAgICAgIFRoZSBlcnJvciBvYmplY3QuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJucyB7dm9pZH1cblx0XHQgKi9cblx0XHR0aGlzLmhhbmRsZUVycm9yID0gZnVuY3Rpb24oIHZhbGlkYXRlUmVkaXJlY3QsIGVycm9yICkge1xuXHRcdFx0dmFsaWRhdGVSZWRpcmVjdC5hZGRWYWxpZGF0aW9uRXJyb3IoIGVycm9yLm1lc3NhZ2UsIGVycm9yLmZpZWxkcyApO1xuXG5cdFx0XHRpZiAoIGVycm9yLnR5cGUgPT09IFwid2FybmluZ1wiICkge1xuXHRcdFx0XHR0aGF0LmRpYWxvZyggd3BzZW9QcmVtaXVtU3RyaW5ncy5lcnJvcl9zYXZpbmdfcmVkaXJlY3QsIGVycm9yLm1lc3NhZ2UsIGVycm9yLnR5cGUgKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWRkaW5nIHRoZSByZWRpcmVjdFxuXHRcdCAqXG5cdFx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgd2hlbiByZWRpcmVjdCBoYXMgYmVlbiBhZGRlZCBzdWNjZXNzZnVsbHkuXG5cdFx0ICovXG5cdFx0dGhpcy5hZGRSZWRpcmVjdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gRG8gdGhlIHZhbGlkYXRpb24uXG5cdFx0XHRjb25zdCByZWRpcmVjdEZvcm0gICAgID0gbmV3IFJlZGlyZWN0Rm9ybSggJCggXCIud3BzZW8tbmV3LXJlZGlyZWN0LWZvcm1cIiApICk7XG5cdFx0XHRjb25zdCB2YWxpZGF0ZVJlZGlyZWN0ID0gbmV3IFZhbGlkYXRlUmVkaXJlY3QoIHJlZGlyZWN0Rm9ybSwgcmVkaXJlY3RGb3JtYXQgKTtcblx0XHRcdGlmICggdmFsaWRhdGVSZWRpcmVjdC52YWxpZGF0ZSgpID09PSBmYWxzZSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZWRpcmVjdFZhbHVlcyA9IHZhbGlkYXRlUmVkaXJlY3QuZ2V0Rm9ybVZhbHVlcygpO1xuXG5cdFx0XHQvLyBEbyBwb3N0LlxuXHRcdFx0dGhhdC5wb3N0KFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0YWN0aW9uOiBcIndwc2VvX2FkZF9yZWRpcmVjdF9cIiArIHJlZGlyZWN0Rm9ybWF0LFxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2UgKi9cblx0XHRcdFx0XHRhamF4X25vbmNlOiAkKCBcIi53cHNlb19yZWRpcmVjdHNfYWpheF9ub25jZVwiICkudmFsKCksXG5cdFx0XHRcdFx0cmVkaXJlY3Q6IHtcblx0XHRcdFx0XHRcdG9yaWdpbjogZW5jb2RlVVJJQ29tcG9uZW50KCByZWRpcmVjdFZhbHVlcy5vcmlnaW4gKSxcblx0XHRcdFx0XHRcdHRhcmdldDogZW5jb2RlVVJJQ29tcG9uZW50KCByZWRpcmVjdFZhbHVlcy50YXJnZXQgKSxcblx0XHRcdFx0XHRcdHR5cGU6IHJlZGlyZWN0VmFsdWVzLnR5cGUsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlICovXG5cdFx0XHRcdFx0aWdub3JlX3dhcm5pbmc6IGlnbm9yZSxcblx0XHRcdFx0fSxcblx0XHRcdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHRcdGlmICggcmVzcG9uc2UuZXJyb3IgKSB7XG5cdFx0XHRcdFx0XHR0aGF0LmhhbmRsZUVycm9yKCB2YWxpZGF0ZVJlZGlyZWN0LCByZXNwb25zZS5lcnJvciApO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbXB0eSB0aGUgZm9ybSBmaWVsZHMuXG5cdFx0XHRcdFx0cmVkaXJlY3RGb3JtLmdldE9yaWdpbkZpZWxkKCkudmFsKCBcIlwiICk7XG5cdFx0XHRcdFx0cmVkaXJlY3RGb3JtLmdldFRhcmdldEZpZWxkKCkudmFsKCBcIlwiICk7XG5cblx0XHRcdFx0XHQvLyBSZW1vdmUgdGhlIG5vIGl0ZW1zIHJvdy5cblx0XHRcdFx0XHR0aGF0LmZpbmQoIFwiLm5vLWl0ZW1zXCIgKS5yZW1vdmUoKTtcblxuXHRcdFx0XHRcdC8vIENyZWF0aW5nIHRyLlxuXHRcdFx0XHRcdGNvbnN0IHRyID0gdGhhdC5jcmVhdGVSZWRpcmVjdFJvdyggcmVzcG9uc2Uub3JpZ2luLCByZXNwb25zZS50YXJnZXQsIHJlc3BvbnNlLnR5cGUsIHJlc3BvbnNlLmluZm8gKTtcblxuXHRcdFx0XHRcdC8vIEFkZCB0aGUgbmV3IHJvdy5cblx0XHRcdFx0XHQkKCBcImZvcm0jXCIgKyByZWRpcmVjdEZvcm1hdCApLmZpbmQoIFwiI3RoZS1saXN0XCIgKS5wcmVwZW5kKCB0ciApO1xuXG5cdFx0XHRcdFx0dGhhdC5vcGVuRGlhbG9nKCB3cHNlb1ByZW1pdW1TdHJpbmdzLnJlZGlyZWN0X2FkZGVkICk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBVcGRhdGluZyB0aGUgcmVkaXJlY3Rcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIHdoZW4gdXBkYXRlcyBpcyBzdWNjZXNzZnVsLlxuXHRcdCAqL1xuXHRcdHRoaXMudXBkYXRlUmVkaXJlY3QgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIERvIHRoZSB2YWxpZGF0aW9uLlxuXHRcdFx0Y29uc3QgcmVkaXJlY3RGb3JtICAgICA9IG5ldyBSZWRpcmVjdEZvcm0oIHJlZGlyZWN0c1F1aWNrRWRpdC5nZXRGb3JtKCkgKTtcblx0XHRcdGNvbnN0IHZhbGlkYXRlUmVkaXJlY3QgPSBuZXcgVmFsaWRhdGVSZWRpcmVjdCggcmVkaXJlY3RGb3JtLCByZWRpcmVjdEZvcm1hdCApO1xuXHRcdFx0aWYgKCB2YWxpZGF0ZVJlZGlyZWN0LnZhbGlkYXRlKCkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlZGlyZWN0VmFsdWVzID0gdmFsaWRhdGVSZWRpcmVjdC5nZXRGb3JtVmFsdWVzKCk7XG5cblx0XHRcdC8vIFNldHRpbmcgdGhlIHZhcnMgZm9yIHRoZSByb3cgYW5kIGl0cyB2YWx1ZXMuXG5cdFx0XHRjb25zdCByb3cgPSByZWRpcmVjdHNRdWlja0VkaXQuZ2V0Um93KCk7XG5cdFx0XHRjb25zdCByb3dDZWxscyA9IHRoaXMucm93Q2VsbHMoIHJvdyApO1xuXG5cdFx0XHQvLyBQb3N0IHRoZSByZXF1ZXN0LlxuXHRcdFx0dGhhdC5wb3N0KFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5cdFx0XHRcdFx0YWN0aW9uOiBcIndwc2VvX3VwZGF0ZV9yZWRpcmVjdF9cIiArIHJlZGlyZWN0Rm9ybWF0LFxuXHRcdFx0XHRcdGFqYXhfbm9uY2U6ICQoIFwiLndwc2VvX3JlZGlyZWN0c19hamF4X25vbmNlXCIgKS52YWwoKSxcblx0XHRcdFx0XHRvbGRfcmVkaXJlY3Q6IHtcblx0XHRcdFx0XHRcdG9yaWdpbjogZW5jb2RlVVJJQ29tcG9uZW50KCByb3dDZWxscy5vcmlnaW4uaHRtbCgpICksXG5cdFx0XHRcdFx0XHR0YXJnZXQ6IGVuY29kZVVSSUNvbXBvbmVudCggcm93Q2VsbHMudGFyZ2V0Lmh0bWwoKSApLFxuXHRcdFx0XHRcdFx0dHlwZTogZW5jb2RlVVJJQ29tcG9uZW50KCByb3dDZWxscy50eXBlLmh0bWwoKSApLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bmV3X3JlZGlyZWN0OiB7XG5cdFx0XHRcdFx0XHRvcmlnaW46IGVuY29kZVVSSUNvbXBvbmVudCggcmVkaXJlY3RWYWx1ZXMub3JpZ2luICksXG5cdFx0XHRcdFx0XHR0YXJnZXQ6IGVuY29kZVVSSUNvbXBvbmVudCggcmVkaXJlY3RWYWx1ZXMudGFyZ2V0ICksXG5cdFx0XHRcdFx0XHR0eXBlOiBlbmNvZGVVUklDb21wb25lbnQoIHJlZGlyZWN0VmFsdWVzLnR5cGUgKSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGlnbm9yZV93YXJuaW5nOiBpZ25vcmUsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdFx0XHRpZiAoIHJlc3BvbnNlLmVycm9yICkge1xuXHRcdFx0XHRcdFx0dGhhdC5oYW5kbGVFcnJvciggdmFsaWRhdGVSZWRpcmVjdCwgcmVzcG9uc2UuZXJyb3IgKTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlcyB0aGUgdGFibGUgY2VsbHMuXG5cdFx0XHRcdFx0cm93Q2VsbHMub3JpZ2luLmh0bWwoIF8uZXNjYXBlKCByZXNwb25zZS5vcmlnaW4gKSApO1xuXHRcdFx0XHRcdHJvd0NlbGxzLnRhcmdldC5odG1sKCBfLmVzY2FwZSggcmVzcG9uc2UudGFyZ2V0ICkgKTtcblx0XHRcdFx0XHRyb3dDZWxscy50eXBlLmh0bWwoIF8uZXNjYXBlKCByZXNwb25zZS50eXBlICkgKTtcblxuXHRcdFx0XHRcdHJlZGlyZWN0c1F1aWNrRWRpdC5yZW1vdmUoKTtcblxuXHRcdFx0XHRcdHRoYXQub3BlbkRpYWxvZyggd3BzZW9QcmVtaXVtU3RyaW5ncy5yZWRpcmVjdF91cGRhdGVkICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBjYW1lbGNhc2UgKi9cblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmVzIHRoZSByZWRpcmVjdFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHJvdyBUaGUgcm93IG9iamVjdC5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHRoaXMuZGVsZXRlUmVkaXJlY3QgPSBmdW5jdGlvbiggcm93ICkge1xuXHRcdFx0Y29uc3Qgcm93Q2VsbHMgPSB0aGlzLnJvd0NlbGxzKCByb3cgKTtcblxuXHRcdFx0Y29uc3Qgb3JpZ2luICAgICAgID0gcm93Q2VsbHMub3JpZ2luLmh0bWwoKTtcblx0XHRcdGNvbnN0IHRhcmdldCAgICAgICA9IHJvd0NlbGxzLnRhcmdldC5odG1sKCk7XG5cdFx0XHRjb25zdCByZWRpcmVjdFR5cGUgPSByb3dDZWxscy50eXBlLmh0bWwoKTtcblxuXHRcdFx0d3BzZW9EZWxldGVSZWRpcmVjdChcblx0XHRcdFx0b3JpZ2luLFxuXHRcdFx0XHR0YXJnZXQsXG5cdFx0XHRcdHJlZGlyZWN0VHlwZSxcblx0XHRcdFx0cmVkaXJlY3RGb3JtYXQsXG5cdFx0XHQpLnRoZW4oICggcmVzcG9uc2UgKSA9PiB7XG5cdFx0XHRcdC8vIFdoZW4gdGhlIHJlZGlyZWN0IGlzIHJlbW92ZWQsIGp1c3QgZmFkZSBvdXQgdGhlIHJvdyBhbmQgcmVtb3ZlIGl0IGFmdGVyIGl0cyBmYWRlZC5cblx0XHRcdFx0cm93LmZhZGVUbyggXCJmYXN0XCIsIDAgKS5zbGlkZVVwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlKCk7XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHR0aGF0Lm9wZW5EaWFsb2coIHJlc3BvbnNlICk7XG5cdFx0XHR9ICkuY2F0Y2goICggZXJyb3IgKSA9PiB7XG5cdFx0XHRcdHRoaXMuZGlhbG9nKCBlcnJvci50aXRsZSwgZXJyb3IubWVzc2FnZSwgXCJlcnJvclwiICk7XG5cdFx0XHR9ICk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJ1bm5pbmcgdGhlIHNldHVwIG9mIHRoaXMgZWxlbWVudC5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5zIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHRoaXMuc2V0dXAgPSBmdW5jdGlvbigpIHtcblx0XHRcdGxldCAkcm93O1xuXHRcdFx0Ly8gQWRkaW5nIGRpYWxvZy5cblx0XHRcdCQoIFwiYm9keVwiICkuYXBwZW5kKCBcIjxkaXYgaWQ9XFxcIllvYXN0UmVkaXJlY3REaWFsb2dcXFwiPjxkaXYgaWQ9XFxcIllvYXN0UmVkaXJlY3REaWFsb2dUZXh0XFxcIj48L2Rpdj48L2Rpdj5cIiApO1xuXG5cdFx0XHQvLyBXaGVuIHRoZSB3aW5kb3cgd2lsbCBiZSBjbG9zZWQvcmVsb2FkZWQgYW5kIHRoZXJlIGlzIGEgaW5saW5lIGVkaXQgb3BlbmVkIHNob3cgYSBtZXNzYWdlLlxuXHRcdFx0JCggd2luZG93ICkub24oIFwiYmVmb3JldW5sb2FkXCIsXG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggJCggXCIjdGhlLWxpc3RcIiApLmZpbmQoIFwiI2lubGluZS1lZGl0XCIgKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHdwc2VvUHJlbWl1bVN0cmluZ3MudW5zYXZlZF9yZWRpcmVjdHM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGRpbmcgdGhlIG9uY2hhbmdlIGV2ZW50LlxuXHRcdFx0JCggXCIucmVkaXJlY3QtdGFibGUtdGFiXCIgKVxuXHRcdFx0XHQub24oIFwiY2hhbmdlXCIsIFwic2VsZWN0W25hbWU9d3BzZW9fcmVkaXJlY3RzX3R5cGVdXCIsICggZXZ0ICkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHJlZGlyZWN0VHlwZSA9IHBhcnNlSW50KCAkKCBldnQudGFyZ2V0ICkudmFsKCksIDEwICk7XG5cdFx0XHRcdFx0Y29uc3QgZmllbGRUb1RvZ2dsZSA9ICQoIGV2dC50YXJnZXQgKS5jbG9zZXN0KCBcIi53cHNlb19yZWRpcmVjdF9mb3JtXCIgKS5maW5kKCBcIi53cHNlb19yZWRpcmVjdF90YXJnZXRfaG9sZGVyXCIgKTtcblxuXHRcdFx0XHRcdC8vIEhpZGUgdGhlIHRhcmdldCBmaWVsZCBpbiBjYXNlIG9mIGEgNDEwIHJlZGlyZWN0LlxuXHRcdFx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHJlZGlyZWN0VHlwZSwgQUxMT1dfRU1QVFlfVEFSR0VUICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdCQoIGZpZWxkVG9Ub2dnbGUgKS5oaWRlKCk7XG5cblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JCggZmllbGRUb1RvZ2dsZSApLnNob3coKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHQvLyBBZGRpbmcgZXZlbnRzIGZvciB0aGUgYWRkIGZvcm0uXG5cdFx0XHQkKCBcIi53cHNlby1uZXctcmVkaXJlY3QtZm9ybVwiIClcblx0XHRcdFx0Lm9uKCBcImNsaWNrXCIsIFwiLmJ1dHRvbi1wcmltYXJ5XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGxhc3RBY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHRoYXQuYWRkUmVkaXJlY3QoKTtcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0dGhhdC5hZGRSZWRpcmVjdCgpO1xuXHRcdFx0XHRcdHJldHVybkZvY3VzVG9FbCA9ICQoIHRoaXMgKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oIFwia2V5cHJlc3NcIiwgXCJpbnB1dFwiLCBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdGlmICggZXZ0LndoaWNoID09PSBLRVlTLkVOVEVSICkge1xuXHRcdFx0XHRcdFx0bGFzdEFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LmFkZFJlZGlyZWN0KCk7XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoYXQuYWRkUmVkaXJlY3QoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0JCggXCIud3AtbGlzdC10YWJsZVwiIClcblx0XHRcdFx0Lm9uKCBcImNsaWNrXCIsIFwiLnJlZGlyZWN0LWVkaXRcIiwgZnVuY3Rpb24oIGV2dCApIHtcblx0XHRcdFx0XHQkcm93ID0gJCggZXZ0LnRhcmdldCApLmNsb3Nlc3QoIFwidHJcIiApO1xuXG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0dGhhdC5lZGl0Um93KCAkcm93ICk7XG5cdFx0XHRcdFx0cmV0dXJuRm9jdXNUb0VsID0gJCggdGhpcyApO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCBcImNsaWNrXCIsIFwiLnJlZGlyZWN0LWRlbGV0ZVwiLCBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdCRyb3cgPSAkKCBldnQudGFyZ2V0ICkuY2xvc2VzdCggXCJ0clwiICk7XG5cblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR0aGF0LmRlbGV0ZVJlZGlyZWN0KCAkcm93ICk7XG5cdFx0XHRcdFx0Ly8gV2hlbiBhIHJvdyBnZXRzIGRlbGV0ZWQsIHdoZXJlIGZvY3VzIHNob3VsZCBsYW5kP1xuXHRcdFx0XHRcdHJldHVybkZvY3VzVG9FbCA9ICQoIFwiI2NiLXNlbGVjdC1hbGwtMVwiICk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oIFwia2V5cHJlc3NcIiwgXCJpbnB1dFwiLCBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdGlmICggZXZ0LndoaWNoID09PSBLRVlTLkVOVEVSICkge1xuXHRcdFx0XHRcdFx0bGFzdEFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnVwZGF0ZVJlZGlyZWN0KCk7XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHRoYXQudXBkYXRlUmVkaXJlY3QoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oIFwiY2xpY2tcIiwgXCIuc2F2ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRsYXN0QWN0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGF0LnVwZGF0ZVJlZGlyZWN0KCk7XG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGxhc3RBY3Rpb24oKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5vbiggXCJjbGlja1wiLCBcIi5jYW5jZWxcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0bGFzdEFjdGlvbiA9IG51bGw7XG5cdFx0XHRcdFx0cmVkaXJlY3RzUXVpY2tFZGl0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdC8vIE1vdmUgZm9jdXMgYmFjayB0byB0aGUgRWRpdCBsaW5rLlxuXHRcdFx0XHRcdCRyb3cuZmluZCggXCIucmVkaXJlY3QtZWRpdFwiICkuZm9jdXMoKTtcblx0XHRcdFx0fSApO1xuXHRcdH07XG5cblx0XHR0aGF0LnNldHVwKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgc2VsZWN0MiBmb3Igc2VsZWN0ZWQgZmllbGRzLlxuXHQgKlxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRTZWxlY3QyKCkge1xuXHRcdCQoIFwiI3dwc2VvX3JlZGlyZWN0c190eXBlXCIgKS5zZWxlY3QyKCB7XG5cdFx0XHR3aWR0aDogXCI0MDBweFwiLFxuXHRcdFx0bGFuZ3VhZ2U6IHdwc2VvVXNlckxvY2FsZSxcblx0XHRcdGRyb3Bkb3duQ3NzQ2xhc3M6IFwieW9hc3Qtc2VsZWN0X19kcm9wZG93blwiLFxuXHRcdH0gKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgcmVkaXJlY3QgcGFnZS5cblx0ICpcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdCQuZWFjaChcblx0XHRcdCQoIFwiLnJlZGlyZWN0LXRhYmxlLXRhYlwiICksXG5cdFx0XHRmdW5jdGlvbigga2V5LCBlbGVtZW50ICkge1xuXHRcdFx0XHQkKCBlbGVtZW50ICkud3BzZW9SZWRpcmVjdHMoICQoIGVsZW1lbnQgKS5hdHRyKCBcImlkXCIgKSApO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRpbml0U2VsZWN0MigpO1xuXHR9XG5cblx0JCggaW5pdCApO1xufSggalF1ZXJ5ICkgKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFLQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQXpCQTtBQUNBO0FBMkJBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBREE7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQURBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJCQTtBQXdCQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThCQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBVkE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQWRBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBakNBO0FBQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///123\n')},124:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n/**\n * Initialize a redirect form object.\n *\n * @param {element} form The redirect form.\n * @constructor\n */\nvar RedirectForm = function RedirectForm(form) {\n  this.form = form;\n};\n\n/**\n * Returns the origin field.\n *\n * @returns {element} The field for the redirect origin.\n */\nRedirectForm.prototype.getOriginField = function () {\n  return this.form.find("input[name=wpseo_redirects_origin]");\n};\n\n/**\n * Returns the target field.\n *\n * @returns {element} The field for the redirect target.\n */\nRedirectForm.prototype.getTargetField = function () {\n  return this.form.find("input[name=wpseo_redirects_target]");\n};\n\n/**\n * Returns the type field.\n *\n * @returns {element} The field for redirect type.\n */\nRedirectForm.prototype.getTypeField = function () {\n  return this.form.find("select[name=wpseo_redirects_type]");\n};\n\n/**\n * Clears the form error message.\n *\n * @returns {void}\n */\nRedirectForm.prototype.clearErrorMessage = function () {\n  this.form.find(".wpseo_redirect_form .form_error").remove();\n};\n\n/**\n * Sets a form error message.\n *\n * @param {string} errorMessage The error message to set.\n *\n * @returns {void}\n */\nRedirectForm.prototype.setErrorMessage = function (errorMessage) {\n  this.form.find(".wpseo_redirect_form").prepend("<div class=\\"form_error error\\"><p>" + errorMessage + "</p></div>");\n};\n\n/**\n * Removing the row errors.\n *\n * @returns {void}\n */\nRedirectForm.prototype.removeRowHighlights = function () {\n  this.form.find(".redirect_form_row").removeClass("field_error");\n};\n\n/**\n * Highlighting the row errors.\n *\n * @param {array} fieldsToHighlight The fields to highlight.\n *\n * @returns {void}\n */\nRedirectForm.prototype.highLightRowErrors = function (fieldsToHighlight) {\n  for (var i = 0; i < fieldsToHighlight.length; i++) {\n    switch (fieldsToHighlight[i]) {\n      case "origin":\n        this.highlightRow(this.getOriginField());\n        break;\n      case "target":\n        this.highlightRow(this.getTargetField());\n        break;\n      case "type":\n        this.highlightRow(this.getTypeField());\n        break;\n    }\n  }\n};\n\n/**\n * Highlights the closest row with an error class.\n *\n * @param {element} errorField The field to hightlight.\n *\n * @returns {void}\n */\nRedirectForm.prototype.highlightRow = function (errorField) {\n  jQuery(errorField).closest("div.redirect_form_row").addClass("field_error");\n};\n\nexports.default = RedirectForm;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2Fzc2V0cy9qcy9zcmMvcmVkaXJlY3RzL3JlZGlyZWN0LWZvcm0uanM/MWFhOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluaXRpYWxpemUgYSByZWRpcmVjdCBmb3JtIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge2VsZW1lbnR9IGZvcm0gVGhlIHJlZGlyZWN0IGZvcm0uXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY29uc3QgUmVkaXJlY3RGb3JtID0gZnVuY3Rpb24oIGZvcm0gKSB7XG5cdHRoaXMuZm9ybSA9IGZvcm07XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbiBmaWVsZC5cbiAqXG4gKiBAcmV0dXJucyB7ZWxlbWVudH0gVGhlIGZpZWxkIGZvciB0aGUgcmVkaXJlY3Qgb3JpZ2luLlxuICovXG5SZWRpcmVjdEZvcm0ucHJvdG90eXBlLmdldE9yaWdpbkZpZWxkID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmZvcm0uZmluZCggXCJpbnB1dFtuYW1lPXdwc2VvX3JlZGlyZWN0c19vcmlnaW5dXCIgKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdGFyZ2V0IGZpZWxkLlxuICpcbiAqIEByZXR1cm5zIHtlbGVtZW50fSBUaGUgZmllbGQgZm9yIHRoZSByZWRpcmVjdCB0YXJnZXQuXG4gKi9cblJlZGlyZWN0Rm9ybS5wcm90b3R5cGUuZ2V0VGFyZ2V0RmllbGQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuZm9ybS5maW5kKCBcImlucHV0W25hbWU9d3BzZW9fcmVkaXJlY3RzX3RhcmdldF1cIiApO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0eXBlIGZpZWxkLlxuICpcbiAqIEByZXR1cm5zIHtlbGVtZW50fSBUaGUgZmllbGQgZm9yIHJlZGlyZWN0IHR5cGUuXG4gKi9cblJlZGlyZWN0Rm9ybS5wcm90b3R5cGUuZ2V0VHlwZUZpZWxkID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmZvcm0uZmluZCggXCJzZWxlY3RbbmFtZT13cHNlb19yZWRpcmVjdHNfdHlwZV1cIiApO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGZvcm0gZXJyb3IgbWVzc2FnZS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuUmVkaXJlY3RGb3JtLnByb3RvdHlwZS5jbGVhckVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLmZvcm0uZmluZCggXCIud3BzZW9fcmVkaXJlY3RfZm9ybSAuZm9ybV9lcnJvclwiICkucmVtb3ZlKCk7XG59O1xuXG4vKipcbiAqIFNldHMgYSBmb3JtIGVycm9yIG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yTWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZSB0byBzZXQuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblJlZGlyZWN0Rm9ybS5wcm90b3R5cGUuc2V0RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24oIGVycm9yTWVzc2FnZSApIHtcblx0dGhpcy5mb3JtLmZpbmQoIFwiLndwc2VvX3JlZGlyZWN0X2Zvcm1cIiApLnByZXBlbmQoIFwiPGRpdiBjbGFzcz1cXFwiZm9ybV9lcnJvciBlcnJvclxcXCI+PHA+XCIgKyBlcnJvck1lc3NhZ2UgKyBcIjwvcD48L2Rpdj5cIiApO1xufTtcblxuLyoqXG4gKiBSZW1vdmluZyB0aGUgcm93IGVycm9ycy5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuUmVkaXJlY3RGb3JtLnByb3RvdHlwZS5yZW1vdmVSb3dIaWdobGlnaHRzID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuZm9ybS5maW5kKCBcIi5yZWRpcmVjdF9mb3JtX3Jvd1wiICkucmVtb3ZlQ2xhc3MoIFwiZmllbGRfZXJyb3JcIiApO1xufTtcblxuLyoqXG4gKiBIaWdobGlnaHRpbmcgdGhlIHJvdyBlcnJvcnMuXG4gKlxuICogQHBhcmFtIHthcnJheX0gZmllbGRzVG9IaWdobGlnaHQgVGhlIGZpZWxkcyB0byBoaWdobGlnaHQuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblJlZGlyZWN0Rm9ybS5wcm90b3R5cGUuaGlnaExpZ2h0Um93RXJyb3JzID0gZnVuY3Rpb24oIGZpZWxkc1RvSGlnaGxpZ2h0ICkge1xuXHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBmaWVsZHNUb0hpZ2hsaWdodC5sZW5ndGg7IGkrKyApIHtcblx0XHRzd2l0Y2ggKCBmaWVsZHNUb0hpZ2hsaWdodFsgaSBdICkge1xuXHRcdFx0Y2FzZSBcIm9yaWdpblwiOlxuXHRcdFx0XHR0aGlzLmhpZ2hsaWdodFJvdyggdGhpcy5nZXRPcmlnaW5GaWVsZCgpICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInRhcmdldFwiOlxuXHRcdFx0XHR0aGlzLmhpZ2hsaWdodFJvdyggdGhpcy5nZXRUYXJnZXRGaWVsZCgpICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInR5cGVcIjpcblx0XHRcdFx0dGhpcy5oaWdobGlnaHRSb3coIHRoaXMuZ2V0VHlwZUZpZWxkKCkgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG59O1xuXG4vKipcbiAqIEhpZ2hsaWdodHMgdGhlIGNsb3Nlc3Qgcm93IHdpdGggYW4gZXJyb3IgY2xhc3MuXG4gKlxuICogQHBhcmFtIHtlbGVtZW50fSBlcnJvckZpZWxkIFRoZSBmaWVsZCB0byBoaWdodGxpZ2h0LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5SZWRpcmVjdEZvcm0ucHJvdG90eXBlLmhpZ2hsaWdodFJvdyA9IGZ1bmN0aW9uKCBlcnJvckZpZWxkICkge1xuXHRqUXVlcnkoIGVycm9yRmllbGQgKS5jbG9zZXN0KCBcImRpdi5yZWRpcmVjdF9mb3JtX3Jvd1wiICkuYWRkQ2xhc3MoIFwiZmllbGRfZXJyb3JcIiApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVkaXJlY3RGb3JtO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///124\n')},125:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n\tvalue: true\n});\n\nvar _functions = __webpack_require__(18);\n\n/**\n * Client side validator for the redirect.\n *\n * @param {RedirectForm} form Form object representing the form.\n * @param {string} type       The redirect type.\n *\n * @returns {void}\n */\nvar ValidateRedirect = function ValidateRedirect(form, type) {\n\tthis.form = form;\n\tthis.type = type;\n\tthis.validationError = "";\n};\n\n/**\n * Validates the form fields.\n *\n * @returns {boolean} True when validation has been successful.\n */\n/* global wpseoPremiumStrings */\nValidateRedirect.prototype.validate = function () {\n\tthis.form.clearErrorMessage();\n\tthis.form.removeRowHighlights();\n\n\tif (this.runValidation(this.form.getOriginField(), this.form.getTargetField(), this.form.getTypeField()) === false) {\n\t\tthis.addValidationError(this.validationError);\n\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n\n/**\n * Executes the validation.\n *\n * @param {element} originField The origin field.\n * @param {element} targetField The target field.\n * @param {element} typeField   The type field.\n * @returns {boolean} True when validation has been successful.\n */\nValidateRedirect.prototype.runValidation = function (originField, targetField, typeField) {\n\t// Check old URL.\n\tif ("" === originField.val()) {\n\t\tthis.form.highlightRow(originField);\n\n\t\tif ("plain" === this.type) {\n\t\t\treturn this.setError(wpseoPremiumStrings.error_old_url);\n\t\t}\n\n\t\treturn this.setError(wpseoPremiumStrings.error_regex);\n\t}\n\n\t// Only when the redirect type is not deleted.\n\tif (jQuery.inArray(parseInt(typeField.val(), 10), _functions.ALLOW_EMPTY_TARGET) === -1) {\n\t\t// Check new URL.\n\t\tif ("" === targetField.val()) {\n\t\t\tthis.form.highlightRow(targetField);\n\t\t\treturn this.setError(wpseoPremiumStrings.error_new_url);\n\t\t}\n\n\t\t// Check if both fields aren\'t the same.\n\t\tif (targetField.val() === originField.val()) {\n\t\t\tthis.form.highlightRow(targetField);\n\t\t\treturn this.setError(wpseoPremiumStrings.error_circular);\n\t\t}\n\t}\n\n\t// Check the redirect type.\n\tif ("" === typeField.val()) {\n\t\tthis.form.highlightRow(typeField);\n\t\treturn this.setError(wpseoPremiumStrings.error_new_type);\n\t}\n\n\treturn true;\n};\n\n/**\n * Sets the validation error and return false.\n *\n * @param {string} error The error to set.\n * @returns {boolean} False, because there is an error.\n */\nValidateRedirect.prototype.setError = function (error) {\n\tthis.validationError = error;\n\n\treturn false;\n};\n\n/**\n * Adding the validation error.\n *\n * @param {string} error  The error message.\n * @param {object} fields The fields related to the error.\n *\n * @returns {void}\n */\nValidateRedirect.prototype.addValidationError = function (error) {\n\tvar fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\tthis.form.setErrorMessage(error);\n\n\tif (typeof fields !== "undefined") {\n\t\tthis.form.highLightRowErrors(fields);\n\t}\n};\n\n/**\n * Returns the values on the quick edit form.\n *\n * @returns {{origin: (string|*), target: (string|*), type: (string|*)}} Object with the form values.\n */\nValidateRedirect.prototype.getFormValues = function () {\n\tvar values = {\n\t\torigin: this.form.getOriginField().val().toString(),\n\t\ttarget: this.form.getTargetField().val().toString(),\n\t\ttype: this.form.getTypeField().val().toString()\n\t};\n\n\t// When the redirect type is deleted or unavailable, the target can be emptied.\n\tif (jQuery.inArray(parseInt(values.type, 10), _functions.ALLOW_EMPTY_TARGET) > -1) {\n\t\tvalues.target = "";\n\t}\n\n\treturn values;\n};\n\nexports.default = ValidateRedirect;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2Fzc2V0cy9qcy9zcmMvcmVkaXJlY3RzL3ZhbGlkYXRlLXJlZGlyZWN0LmpzP2RhMGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdwc2VvUHJlbWl1bVN0cmluZ3MgKi9cbmltcG9ydCB7IEFMTE9XX0VNUFRZX1RBUkdFVCB9IGZyb20gXCIuL2Z1bmN0aW9uc1wiO1xuXG4vKipcbiAqIENsaWVudCBzaWRlIHZhbGlkYXRvciBmb3IgdGhlIHJlZGlyZWN0LlxuICpcbiAqIEBwYXJhbSB7UmVkaXJlY3RGb3JtfSBmb3JtIEZvcm0gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZm9ybS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlICAgICAgIFRoZSByZWRpcmVjdCB0eXBlLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBWYWxpZGF0ZVJlZGlyZWN0ID0gZnVuY3Rpb24oIGZvcm0sIHR5cGUgKSB7XG5cdHRoaXMuZm9ybSA9IGZvcm07XG5cdHRoaXMudHlwZSA9IHR5cGU7XG5cdHRoaXMudmFsaWRhdGlvbkVycm9yID0gXCJcIjtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBmb3JtIGZpZWxkcy5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIHZhbGlkYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bC5cbiAqL1xuVmFsaWRhdGVSZWRpcmVjdC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5mb3JtLmNsZWFyRXJyb3JNZXNzYWdlKCk7XG5cdHRoaXMuZm9ybS5yZW1vdmVSb3dIaWdobGlnaHRzKCk7XG5cblx0aWYgKCB0aGlzLnJ1blZhbGlkYXRpb24oIHRoaXMuZm9ybS5nZXRPcmlnaW5GaWVsZCgpLCB0aGlzLmZvcm0uZ2V0VGFyZ2V0RmllbGQoKSwgdGhpcy5mb3JtLmdldFR5cGVGaWVsZCgpICkgPT09IGZhbHNlICkge1xuXHRcdHRoaXMuYWRkVmFsaWRhdGlvbkVycm9yKCB0aGlzLnZhbGlkYXRpb25FcnJvciApO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSB2YWxpZGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7ZWxlbWVudH0gb3JpZ2luRmllbGQgVGhlIG9yaWdpbiBmaWVsZC5cbiAqIEBwYXJhbSB7ZWxlbWVudH0gdGFyZ2V0RmllbGQgVGhlIHRhcmdldCBmaWVsZC5cbiAqIEBwYXJhbSB7ZWxlbWVudH0gdHlwZUZpZWxkICAgVGhlIHR5cGUgZmllbGQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIHZhbGlkYXRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bC5cbiAqL1xuVmFsaWRhdGVSZWRpcmVjdC5wcm90b3R5cGUucnVuVmFsaWRhdGlvbiA9IGZ1bmN0aW9uKCBvcmlnaW5GaWVsZCwgdGFyZ2V0RmllbGQsIHR5cGVGaWVsZCApIHtcblx0Ly8gQ2hlY2sgb2xkIFVSTC5cblx0aWYgKCBcIlwiID09PSBvcmlnaW5GaWVsZC52YWwoKSApIHtcblx0XHR0aGlzLmZvcm0uaGlnaGxpZ2h0Um93KCBvcmlnaW5GaWVsZCApO1xuXG5cdFx0aWYgKCBcInBsYWluXCIgPT09IHRoaXMudHlwZSApIHtcblx0XHRcdHJldHVybiB0aGlzLnNldEVycm9yKCB3cHNlb1ByZW1pdW1TdHJpbmdzLmVycm9yX29sZF91cmwgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5zZXRFcnJvciggd3BzZW9QcmVtaXVtU3RyaW5ncy5lcnJvcl9yZWdleCApO1xuXHR9XG5cblx0Ly8gT25seSB3aGVuIHRoZSByZWRpcmVjdCB0eXBlIGlzIG5vdCBkZWxldGVkLlxuXHRpZiAoIGpRdWVyeS5pbkFycmF5KCBwYXJzZUludCggdHlwZUZpZWxkLnZhbCgpLCAxMCApLCBBTExPV19FTVBUWV9UQVJHRVQgKSA9PT0gLTEgKSB7XG5cdFx0Ly8gQ2hlY2sgbmV3IFVSTC5cblx0XHRpZiAoIFwiXCIgPT09IHRhcmdldEZpZWxkLnZhbCgpICkge1xuXHRcdFx0dGhpcy5mb3JtLmhpZ2hsaWdodFJvdyggdGFyZ2V0RmllbGQgKTtcblx0XHRcdHJldHVybiB0aGlzLnNldEVycm9yKCB3cHNlb1ByZW1pdW1TdHJpbmdzLmVycm9yX25ld191cmwgKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBib3RoIGZpZWxkcyBhcmVuJ3QgdGhlIHNhbWUuXG5cdFx0aWYgKCB0YXJnZXRGaWVsZC52YWwoKSA9PT0gb3JpZ2luRmllbGQudmFsKCkgKSB7XG5cdFx0XHR0aGlzLmZvcm0uaGlnaGxpZ2h0Um93KCB0YXJnZXRGaWVsZCApO1xuXHRcdFx0cmV0dXJuIHRoaXMuc2V0RXJyb3IoIHdwc2VvUHJlbWl1bVN0cmluZ3MuZXJyb3JfY2lyY3VsYXIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0aGUgcmVkaXJlY3QgdHlwZS5cblx0aWYgKCBcIlwiID09PSB0eXBlRmllbGQudmFsKCkgKSB7XG5cdFx0dGhpcy5mb3JtLmhpZ2hsaWdodFJvdyggdHlwZUZpZWxkICk7XG5cdFx0cmV0dXJuIHRoaXMuc2V0RXJyb3IoIHdwc2VvUHJlbWl1bVN0cmluZ3MuZXJyb3JfbmV3X3R5cGUgKTtcblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWxpZGF0aW9uIGVycm9yIGFuZCByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVycm9yIFRoZSBlcnJvciB0byBzZXQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gRmFsc2UsIGJlY2F1c2UgdGhlcmUgaXMgYW4gZXJyb3IuXG4gKi9cblZhbGlkYXRlUmVkaXJlY3QucHJvdG90eXBlLnNldEVycm9yID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR0aGlzLnZhbGlkYXRpb25FcnJvciA9IGVycm9yO1xuXG5cdHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQWRkaW5nIHRoZSB2YWxpZGF0aW9uIGVycm9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvciAgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge29iamVjdH0gZmllbGRzIFRoZSBmaWVsZHMgcmVsYXRlZCB0byB0aGUgZXJyb3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblZhbGlkYXRlUmVkaXJlY3QucHJvdG90eXBlLmFkZFZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uKCBlcnJvciwgZmllbGRzID0gbnVsbCApIHtcblx0dGhpcy5mb3JtLnNldEVycm9yTWVzc2FnZSggZXJyb3IgKTtcblxuXHRpZiAoIHR5cGVvZiBmaWVsZHMgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0dGhpcy5mb3JtLmhpZ2hMaWdodFJvd0Vycm9ycyggZmllbGRzICk7XG5cdH1cbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWVzIG9uIHRoZSBxdWljayBlZGl0IGZvcm0uXG4gKlxuICogQHJldHVybnMge3tvcmlnaW46IChzdHJpbmd8KiksIHRhcmdldDogKHN0cmluZ3wqKSwgdHlwZTogKHN0cmluZ3wqKX19IE9iamVjdCB3aXRoIHRoZSBmb3JtIHZhbHVlcy5cbiAqL1xuVmFsaWRhdGVSZWRpcmVjdC5wcm90b3R5cGUuZ2V0Rm9ybVZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuXHRjb25zdCB2YWx1ZXMgPSB7XG5cdFx0b3JpZ2luOiB0aGlzLmZvcm0uZ2V0T3JpZ2luRmllbGQoKS52YWwoKS50b1N0cmluZygpLFxuXHRcdHRhcmdldDogdGhpcy5mb3JtLmdldFRhcmdldEZpZWxkKCkudmFsKCkudG9TdHJpbmcoKSxcblx0XHR0eXBlOiB0aGlzLmZvcm0uZ2V0VHlwZUZpZWxkKCkudmFsKCkudG9TdHJpbmcoKSxcblx0fTtcblxuXHQvLyBXaGVuIHRoZSByZWRpcmVjdCB0eXBlIGlzIGRlbGV0ZWQgb3IgdW5hdmFpbGFibGUsIHRoZSB0YXJnZXQgY2FuIGJlIGVtcHRpZWQuXG5cdGlmICggalF1ZXJ5LmluQXJyYXkoIHBhcnNlSW50KCB2YWx1ZXMudHlwZSwgMTAgKSwgQUxMT1dfRU1QVFlfVEFSR0VUICkgPiAtMSApIHtcblx0XHR2YWx1ZXMudGFyZ2V0ID0gXCJcIjtcblx0fVxuXG5cdHJldHVybiB2YWx1ZXM7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0ZVJlZGlyZWN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBakJBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///125\n')},126:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n/* global wp, _ */\n\n/**\n * The quick edit prototype for handling the quick edit on form rows.\n * @constructor\n */\nvar RedirectQuickEdit = function RedirectQuickEdit() {\n  this.row = null;\n  this.quickEditRow = null;\n  this.templateQuickEdit = wp.template("redirects-inline-edit");\n};\n\n/**\n * Sets up the quick edit for a row, with the given row values.\n *\n * @param {element} row     The form row object.\n * @param {object} rowCells The form row cells.\n *\n * @returns {void}\n */\nRedirectQuickEdit.prototype.setup = function (row, rowCells) {\n  this.row = row;\n  this.quickEditRow = jQuery(this.templateQuickEdit({\n    origin: _.unescape(rowCells.origin.html()),\n    target: _.unescape(rowCells.target.html()),\n    type: parseInt(rowCells.type.html(), 10),\n    suffix: jQuery("#the-list").find("tr").index(row)\n  }));\n};\n\n/**\n * Returns the original row element.\n *\n * @returns {element} The row object.\n */\nRedirectQuickEdit.prototype.getRow = function () {\n  return this.row;\n};\n\n/**\n * Returns the original form element.\n *\n * @returns {element} The form object.\n */\nRedirectQuickEdit.prototype.getForm = function () {\n  return this.quickEditRow;\n};\n\n/**\n * Shows the quick edit form and hides the redirect row.\n *\n * @returns {void}\n */\nRedirectQuickEdit.prototype.show = function () {\n  this.row.addClass("hidden");\n  this.quickEditRow.insertAfter(this.row).show(400, function () {\n    jQuery(this).find(":input").first().focus();\n  });\n};\n\n/**\n * Hides the quick edit form and show the redirect row.\n *\n * @returns {void}\n */\nRedirectQuickEdit.prototype.remove = function () {\n  this.row.removeClass("hidden");\n  this.quickEditRow.remove();\n};\n\nexports.default = RedirectQuickEdit;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2Fzc2V0cy9qcy9zcmMvcmVkaXJlY3RzL3JlZGlyZWN0LXF1aWNrLWVkaXQuanM/ZGJiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgd3AsIF8gKi9cblxuLyoqXG4gKiBUaGUgcXVpY2sgZWRpdCBwcm90b3R5cGUgZm9yIGhhbmRsaW5nIHRoZSBxdWljayBlZGl0IG9uIGZvcm0gcm93cy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jb25zdCBSZWRpcmVjdFF1aWNrRWRpdCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLnJvdyA9IG51bGw7XG5cdHRoaXMucXVpY2tFZGl0Um93ID0gbnVsbDtcblx0dGhpcy50ZW1wbGF0ZVF1aWNrRWRpdCA9IHdwLnRlbXBsYXRlKCBcInJlZGlyZWN0cy1pbmxpbmUtZWRpdFwiICk7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIHF1aWNrIGVkaXQgZm9yIGEgcm93LCB3aXRoIHRoZSBnaXZlbiByb3cgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7ZWxlbWVudH0gcm93ICAgICBUaGUgZm9ybSByb3cgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IHJvd0NlbGxzIFRoZSBmb3JtIHJvdyBjZWxscy5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuUmVkaXJlY3RRdWlja0VkaXQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24oIHJvdywgcm93Q2VsbHMgKSB7XG5cdHRoaXMucm93ICAgICAgICAgID0gcm93O1xuXHR0aGlzLnF1aWNrRWRpdFJvdyA9IGpRdWVyeShcblx0XHR0aGlzLnRlbXBsYXRlUXVpY2tFZGl0KCB7XG5cdFx0XHRvcmlnaW46IF8udW5lc2NhcGUoIHJvd0NlbGxzLm9yaWdpbi5odG1sKCkgKSxcblx0XHRcdHRhcmdldDogXy51bmVzY2FwZSggcm93Q2VsbHMudGFyZ2V0Lmh0bWwoKSApLFxuXHRcdFx0dHlwZTogcGFyc2VJbnQoIHJvd0NlbGxzLnR5cGUuaHRtbCgpLCAxMCApLFxuXHRcdFx0c3VmZml4OiBqUXVlcnkoIFwiI3RoZS1saXN0XCIgKS5maW5kKCBcInRyXCIgKS5pbmRleCggcm93ICksXG5cdFx0fSApXG5cdCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIHJvdyBlbGVtZW50LlxuICpcbiAqIEByZXR1cm5zIHtlbGVtZW50fSBUaGUgcm93IG9iamVjdC5cbiAqL1xuUmVkaXJlY3RRdWlja0VkaXQucHJvdG90eXBlLmdldFJvdyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5yb3c7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIGZvcm0gZWxlbWVudC5cbiAqXG4gKiBAcmV0dXJucyB7ZWxlbWVudH0gVGhlIGZvcm0gb2JqZWN0LlxuICovXG5SZWRpcmVjdFF1aWNrRWRpdC5wcm90b3R5cGUuZ2V0Rm9ybSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5xdWlja0VkaXRSb3c7XG59O1xuXG4vKipcbiAqIFNob3dzIHRoZSBxdWljayBlZGl0IGZvcm0gYW5kIGhpZGVzIHRoZSByZWRpcmVjdCByb3cuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblJlZGlyZWN0UXVpY2tFZGl0LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucm93LmFkZENsYXNzKCBcImhpZGRlblwiICk7XG5cdHRoaXMucXVpY2tFZGl0Um93XG5cdFx0Lmluc2VydEFmdGVyKCB0aGlzLnJvdyApXG5cdFx0LnNob3coIDQwMCwgZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS5maW5kKCBcIjppbnB1dFwiICkuZmlyc3QoKS5mb2N1cygpO1xuXHRcdH0gKTtcbn07XG5cbi8qKlxuICogSGlkZXMgdGhlIHF1aWNrIGVkaXQgZm9ybSBhbmQgc2hvdyB0aGUgcmVkaXJlY3Qgcm93LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5SZWRpcmVjdFF1aWNrRWRpdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMucm93LnJlbW92ZUNsYXNzKCBcImhpZGRlblwiICk7XG5cdHRoaXMucXVpY2tFZGl0Um93LnJlbW92ZSgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVkaXJlY3RRdWlja0VkaXQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///126\n')},14:function(module,exports){eval("module.exports = window.wp.apiFetch;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3aW5kb3cud3AuYXBpRmV0Y2hcIj9iYzBmIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gd2luZG93LndwLmFwaUZldGNoOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n")},18:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n\tvalue: true\n});\nexports.ALLOW_EMPTY_TARGET = undefined;\nexports.wpseoDeleteRedirect = wpseoDeleteRedirect;\nexports.wpseoRemoveNotification = wpseoRemoveNotification;\nexports.wpseoUndoRedirect = wpseoUndoRedirect;\nexports.wpseoCreateRedirect = wpseoCreateRedirect;\n\nvar _apiFetch = __webpack_require__(14);\n\nvar _apiFetch2 = _interopRequireDefault(_apiFetch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ALLOW_EMPTY_TARGET = exports.ALLOW_EMPTY_TARGET = [410, 451];\n\n/**\n * Deletes a redirect.\n *\n * @param {string} origin The redirect\'s origin.\n * @param {string} target The redirect\'s target.\n * @param {string} type   The type of redirect.\n * @param {string} format The format of redirect.\n *\n * @returns {void}\n */\n/* global window, wpApiSettings, wpseoPremiumStrings, ajaxurl */\nfunction wpseoDeleteRedirect(origin, target, type) {\n\tvar format = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "plain";\n\n\treturn (0, _apiFetch2.default)({\n\t\tmethod: "POST",\n\t\turl: wpApiSettings.root + "yoast/v1/redirects/delete",\n\t\theaders: {\n\t\t\t"X-WP-Nonce": wpApiSettings.nonce\n\t\t},\n\t\tdata: {\n\t\t\torigin: origin,\n\t\t\ttarget: target,\n\t\t\ttype: type,\n\t\t\tformat: format\n\t\t}\n\t});\n}\n\n/**\n * Removes a notification.\n *\n * @param {object} source The DOMElement containing the alerts.\n *\n * @returns {void}\n */\nfunction wpseoRemoveNotification(source) {\n\tjQuery(source).closest(".yoast-notification").fadeOut("slow");\n}\n\n/**\n * Undoes a redirect.\n *\n * @param {string} origin The redirect\'s origin.\n * @param {string} target The redirect\'s target.\n * @param {string} type The type of redirect.\n * @param {string} nonce The nonce being used to validate the current AJAX request.\n * @param {object} source The DOMElement containing the alerts.\n *\n * @returns {void}\n */\nfunction wpseoUndoRedirect(origin, target, type, nonce, source) {\n\twpseoDeleteRedirect(origin, target, type).then(function (response) {\n\t\tif (response.success === true) {\n\t\t\twpseoRemoveNotification(source);\n\t\t}\n\t});\n}\n\n/**\n * Creates a redirect\n *\n * @param {string} origin The origin.\n * @param {string} type   The redirect type, regex or plain.\n * @param {string} nonce  The nonce.\n * @param {object} source The source of the redirect.\n *\n * @returns {void}\n */\nfunction wpseoCreateRedirect(origin, type, nonce, source) {\n\tvar target = "";\n\n\tif (parseInt(type, 10) !== 410) {\n\t\t/* eslint-disable no-alert */\n\t\ttarget = window.prompt(wpseoPremiumStrings.enter_new_url.replace("%s", origin));\n\t\t/* eslint-enable no-alert */\n\n\t\tif (target === "") {\n\t\t\t/* eslint-disable no-alert */\n\t\t\twindow.alert(wpseoPremiumStrings.error_new_url);\n\t\t\t/* eslint-enable no-alert */\n\t\t\treturn;\n\t\t}\n\t}\n\n\tjQuery.post(ajaxurl, {\n\t\taction: "wpseo_add_redirect_plain",\n\t\t/* eslint-disable-next-line camelcase */\n\t\tajax_nonce: nonce,\n\t\tredirect: {\n\t\t\torigin: origin,\n\t\t\ttarget: target,\n\t\t\ttype: type\n\t\t}\n\t}, function (response) {\n\t\tvar notice = jQuery(source).closest(".yoast-notification");\n\t\t// Remove the classes first.\n\t\tjQuery(notice).removeClass("updated").removeClass("error");\n\n\t\t// Remove possibly added redirect errors.\n\t\tjQuery(notice).find(".redirect_error").remove();\n\n\t\tif (response.error) {\n\t\t\t// Add paragraph on top of the notice with actions and set class to error.\n\t\t\tjQuery(notice).addClass("error").prepend("<p class=\\"redirect_error\\">" + response.error.message + "</p>");\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Parse the success message.\n\t\tvar successMessage = "";\n\t\tif (parseInt(type, 10) === 410) {\n\t\t\tsuccessMessage = wpseoPremiumStrings.redirect_saved_no_target;\n\t\t} else {\n\t\t\tsuccessMessage = wpseoPremiumStrings.redirect_saved.replace("%2$s", "<code>" + response.target + "</code>");\n\t\t}\n\n\t\tsuccessMessage = successMessage.replace("%1$s", "<code>" + response.origin + "</code>");\n\n\t\t// Set class to updated and replace html with the success message.\n\t\tjQuery(notice).addClass("updated").html("<p>" + successMessage + "</p>");\n\t}, "json");\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXNzZXRzL2pzL3NyYy9yZWRpcmVjdHMvZnVuY3Rpb25zLmpzP2QxNmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdpbmRvdywgd3BBcGlTZXR0aW5ncywgd3BzZW9QcmVtaXVtU3RyaW5ncywgYWpheHVybCAqL1xuaW1wb3J0IGFwaUZldGNoIGZyb20gXCJAd29yZHByZXNzL2FwaS1mZXRjaFwiO1xuXG5leHBvcnQgY29uc3QgQUxMT1dfRU1QVFlfVEFSR0VUID0gW1xuXHQ0MTAsIDQ1MSxcbl07XG5cbi8qKlxuICogRGVsZXRlcyBhIHJlZGlyZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcmlnaW4gVGhlIHJlZGlyZWN0J3Mgb3JpZ2luLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldCBUaGUgcmVkaXJlY3QncyB0YXJnZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAgIFRoZSB0eXBlIG9mIHJlZGlyZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCBUaGUgZm9ybWF0IG9mIHJlZGlyZWN0LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3BzZW9EZWxldGVSZWRpcmVjdCggb3JpZ2luLCB0YXJnZXQsIHR5cGUsIGZvcm1hdCA9IFwicGxhaW5cIiApIHtcblx0cmV0dXJuIGFwaUZldGNoKFxuXHRcdHtcblx0XHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0XHR1cmw6IHdwQXBpU2V0dGluZ3Mucm9vdCArIFwieW9hc3QvdjEvcmVkaXJlY3RzL2RlbGV0ZVwiLFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcIlgtV1AtTm9uY2VcIjogd3BBcGlTZXR0aW5ncy5ub25jZSxcblx0XHRcdH0sXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG9yaWdpbixcblx0XHRcdFx0dGFyZ2V0LFxuXHRcdFx0XHR0eXBlLFxuXHRcdFx0XHRmb3JtYXQsXG5cdFx0XHR9LFxuXHRcdH1cblx0KTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGEgbm90aWZpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIERPTUVsZW1lbnQgY29udGFpbmluZyB0aGUgYWxlcnRzLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3BzZW9SZW1vdmVOb3RpZmljYXRpb24oIHNvdXJjZSApIHtcblx0alF1ZXJ5KCBzb3VyY2UgKS5jbG9zZXN0KCBcIi55b2FzdC1ub3RpZmljYXRpb25cIiApLmZhZGVPdXQoIFwic2xvd1wiICk7XG59XG5cbi8qKlxuICogVW5kb2VzIGEgcmVkaXJlY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbiBUaGUgcmVkaXJlY3QncyBvcmlnaW4uXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IFRoZSByZWRpcmVjdCdzIHRhcmdldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIHJlZGlyZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5vbmNlIFRoZSBub25jZSBiZWluZyB1c2VkIHRvIHZhbGlkYXRlIHRoZSBjdXJyZW50IEFKQVggcmVxdWVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2UgVGhlIERPTUVsZW1lbnQgY29udGFpbmluZyB0aGUgYWxlcnRzLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3BzZW9VbmRvUmVkaXJlY3QoIG9yaWdpbiwgdGFyZ2V0LCB0eXBlLCBub25jZSwgc291cmNlICkge1xuXHR3cHNlb0RlbGV0ZVJlZGlyZWN0KCBvcmlnaW4sIHRhcmdldCwgdHlwZSApXG5cdFx0LnRoZW4oIHJlc3BvbnNlID0+IHtcblx0XHRcdGlmICggcmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0d3BzZW9SZW1vdmVOb3RpZmljYXRpb24oIHNvdXJjZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVkaXJlY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luIFRoZSBvcmlnaW4uXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAgIFRoZSByZWRpcmVjdCB0eXBlLCByZWdleCBvciBwbGFpbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBub25jZSAgVGhlIG5vbmNlLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHRoZSByZWRpcmVjdC5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdwc2VvQ3JlYXRlUmVkaXJlY3QoIG9yaWdpbiwgdHlwZSwgbm9uY2UsIHNvdXJjZSApIHtcblx0dmFyIHRhcmdldCA9IFwiXCI7XG5cblx0aWYgKCBwYXJzZUludCggdHlwZSwgMTAgKSAhPT0gNDEwICkge1xuXHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWFsZXJ0ICovXG5cdFx0dGFyZ2V0ID0gd2luZG93LnByb21wdCggd3BzZW9QcmVtaXVtU3RyaW5ncy5lbnRlcl9uZXdfdXJsLnJlcGxhY2UoIFwiJXNcIiwgb3JpZ2luICkgKTtcblx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWFsZXJ0ICovXG5cblx0XHRpZiAoIHRhcmdldCA9PT0gXCJcIiApIHtcblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWFsZXJ0ICovXG5cdFx0XHR3aW5kb3cuYWxlcnQoIHdwc2VvUHJlbWl1bVN0cmluZ3MuZXJyb3JfbmV3X3VybCApO1xuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1hbGVydCAqL1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5wb3N0KFxuXHRcdGFqYXh1cmwsXG5cdFx0e1xuXHRcdFx0YWN0aW9uOiBcIndwc2VvX2FkZF9yZWRpcmVjdF9wbGFpblwiLFxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZSAqL1xuXHRcdFx0YWpheF9ub25jZTogbm9uY2UsXG5cdFx0XHRyZWRpcmVjdDoge1xuXHRcdFx0XHRvcmlnaW46IG9yaWdpbixcblx0XHRcdFx0dGFyZ2V0OiB0YXJnZXQsXG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHR9LFxuXHRcdH0sXG5cdFx0ZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0dmFyIG5vdGljZSA9IGpRdWVyeSggc291cmNlICkuY2xvc2VzdCggXCIueW9hc3Qtbm90aWZpY2F0aW9uXCIgKTtcblx0XHRcdC8vIFJlbW92ZSB0aGUgY2xhc3NlcyBmaXJzdC5cblx0XHRcdGpRdWVyeSggbm90aWNlIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVwZGF0ZWRcIiApXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJlcnJvclwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBwb3NzaWJseSBhZGRlZCByZWRpcmVjdCBlcnJvcnMuXG5cdFx0XHRqUXVlcnkoIG5vdGljZSApLmZpbmQoIFwiLnJlZGlyZWN0X2Vycm9yXCIgKS5yZW1vdmUoKTtcblxuXHRcdFx0aWYgKCByZXNwb25zZS5lcnJvciApIHtcblx0XHRcdFx0Ly8gQWRkIHBhcmFncmFwaCBvbiB0b3Agb2YgdGhlIG5vdGljZSB3aXRoIGFjdGlvbnMgYW5kIHNldCBjbGFzcyB0byBlcnJvci5cblx0XHRcdFx0alF1ZXJ5KCBub3RpY2UgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJlcnJvclwiIClcblx0XHRcdFx0XHQucHJlcGVuZCggXCI8cCBjbGFzcz1cXFwicmVkaXJlY3RfZXJyb3JcXFwiPlwiICsgcmVzcG9uc2UuZXJyb3IubWVzc2FnZSArIFwiPC9wPlwiICk7XG5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXJzZSB0aGUgc3VjY2VzcyBtZXNzYWdlLlxuXHRcdFx0dmFyIHN1Y2Nlc3NNZXNzYWdlID0gXCJcIjtcblx0XHRcdGlmICggcGFyc2VJbnQoIHR5cGUsIDEwICkgPT09IDQxMCApIHtcblx0XHRcdFx0c3VjY2Vzc01lc3NhZ2UgPSB3cHNlb1ByZW1pdW1TdHJpbmdzLnJlZGlyZWN0X3NhdmVkX25vX3RhcmdldDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN1Y2Nlc3NNZXNzYWdlID0gd3BzZW9QcmVtaXVtU3RyaW5ncy5yZWRpcmVjdF9zYXZlZC5yZXBsYWNlKCBcIiUyJHNcIiwgXCI8Y29kZT5cIiArIHJlc3BvbnNlLnRhcmdldCArIFwiPC9jb2RlPlwiICk7XG5cdFx0XHR9XG5cblx0XHRcdHN1Y2Nlc3NNZXNzYWdlID0gc3VjY2Vzc01lc3NhZ2UucmVwbGFjZSggXCIlMSRzXCIsIFwiPGNvZGU+XCIgKyByZXNwb25zZS5vcmlnaW4gKyBcIjwvY29kZT5cIiApO1xuXG5cdFx0XHQvLyBTZXQgY2xhc3MgdG8gdXBkYXRlZCBhbmQgcmVwbGFjZSBodG1sIHdpdGggdGhlIHN1Y2Nlc3MgbWVzc2FnZS5cblx0XHRcdGpRdWVyeSggbm90aWNlIClcblx0XHRcdFx0LmFkZENsYXNzKCBcInVwZGF0ZWRcIiApXG5cdFx0XHRcdC5odG1sKCBcIjxwPlwiICsgc3VjY2Vzc01lc3NhZ2UgKyBcIjwvcD5cIiApO1xuXHRcdH0sXG5cdFx0XCJqc29uXCJcblx0KTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBaUJBO0FBeUJBO0FBZUE7QUFtQkE7QUFDQTtBQTVFQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFHQTs7Ozs7Ozs7OztBQVBBO0FBaUJBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU5BO0FBY0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUpBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n')}},[[123,0]]]);